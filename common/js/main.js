!function(a,b,c,d){function e(b,c){this.settings=null,this.options=a.extend({},e.Defaults,c),this.$element=a(b),this.drag=a.extend({},m),this.state=a.extend({},n),this.e=a.extend({},o),this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._invalidated={},this._pipe=[],a.each(e.Plugins,a.proxy(function(a,b){this._plugins[a[0].toLowerCase()+a.slice(1)]=new b(this)},this)),a.each(e.Pipe,a.proxy(function(b,c){this._pipe.push({filter:c.filter,run:a.proxy(c.run,this)})},this)),this.setup(),this.initialize()}function f(a){if(a.touches!==d)return{x:a.touches[0].pageX,y:a.touches[0].pageY};if(a.touches===d){if(a.pageX!==d)return{x:a.pageX,y:a.pageY};if(a.pageX===d)return{x:a.clientX,y:a.clientY}}}function g(a){var b,d,e=c.createElement("div"),f=a;for(b in f)if(d=f[b],"undefined"!=typeof e.style[d])return e=null,[d,b];return[!1]}function h(){return g(["transition","WebkitTransition","MozTransition","OTransition"])[1]}function i(){return g(["transform","WebkitTransform","MozTransform","OTransform","msTransform"])[0]}function j(){return g(["perspective","webkitPerspective","MozPerspective","OPerspective","MsPerspective"])[0]}function k(){return"ontouchstart"in b||!!navigator.msMaxTouchPoints}function l(){return b.navigator.msPointerEnabled}var m,n,o;m={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,offsetX:0,offsetY:0,distance:null,startTime:0,endTime:0,updatedX:0,targetEl:null},n={isTouch:!1,isScrolling:!1,isSwiping:!1,direction:!1,inMotion:!1},o={_onDragStart:null,_onDragMove:null,_onDragEnd:null,_transitionEnd:null,_resizer:null,_responsiveCall:null,_goToLoop:null,_checkVisibile:null},e.Defaults={items:3,loop:!1,center:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:b,responsiveClass:!1,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",themeClass:"owl-theme",baseClass:"owl-carousel",itemClass:"owl-item",centerClass:"center",activeClass:"active"},e.Width={Default:"default",Inner:"inner",Outer:"outer"},e.Plugins={},e.Pipe=[{filter:["width","items","settings"],run:function(a){a.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){var a=this._clones,b=this.$stage.children(".cloned");(b.length!==a.length||!this.settings.loop&&a.length>0)&&(this.$stage.children(".cloned").remove(),this._clones=[])}},{filter:["items","settings"],run:function(){var a,b,c=this._clones,d=this._items,e=this.settings.loop?c.length-Math.max(2*this.settings.items,4):0;for(a=0,b=Math.abs(e/2);b>a;a++)e>0?(this.$stage.children().eq(d.length+c.length-1).remove(),c.pop(),this.$stage.children().eq(0).remove(),c.pop()):(c.push(c.length/2),this.$stage.append(d[c[c.length-1]].clone().addClass("cloned")),c.push(d.length-1-(c.length-1)/2),this.$stage.prepend(d[c[c.length-1]].clone().addClass("cloned")))}},{filter:["width","items","settings"],run:function(){var a,b,c,d=this.settings.rtl?1:-1,e=(this.width()/this.settings.items).toFixed(3),f=0;for(this._coordinates=[],b=0,c=this._clones.length+this._items.length;c>b;b++)a=this._mergers[this.relative(b)],a=this.settings.mergeFit&&Math.min(a,this.settings.items)||a,f+=(this.settings.autoWidth?this._items[this.relative(b)].width()+this.settings.margin:e*a)*d,this._coordinates.push(f)}},{filter:["width","items","settings"],run:function(){var b,c,d=(this.width()/this.settings.items).toFixed(3),e={width:Math.abs(this._coordinates[this._coordinates.length-1])+2*this.settings.stagePadding,"padding-left":this.settings.stagePadding||"","padding-right":this.settings.stagePadding||""};if(this.$stage.css(e),e={width:this.settings.autoWidth?"auto":d-this.settings.margin},e[this.settings.rtl?"margin-left":"margin-right"]=this.settings.margin,!this.settings.autoWidth&&a.grep(this._mergers,function(a){return a>1}).length>0)for(b=0,c=this._coordinates.length;c>b;b++)e.width=Math.abs(this._coordinates[b])-Math.abs(this._coordinates[b-1]||0)-this.settings.margin,this.$stage.children().eq(b).css(e);else this.$stage.children().css(e)}},{filter:["width","items","settings"],run:function(a){a.current&&this.reset(this.$stage.children().index(a.current))}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var a,b,c,d,e=this.settings.rtl?1:-1,f=2*this.settings.stagePadding,g=this.coordinates(this.current())+f,h=g+this.width()*e,i=[];for(c=0,d=this._coordinates.length;d>c;c++)a=this._coordinates[c-1]||0,b=Math.abs(this._coordinates[c])+f*e,(this.op(a,"<=",g)&&this.op(a,">",h)||this.op(b,"<",g)&&this.op(b,">",h))&&i.push(c);this.$stage.children("."+this.settings.activeClass).removeClass(this.settings.activeClass),this.$stage.children(":eq("+i.join("), :eq(")+")").addClass(this.settings.activeClass),this.settings.center&&(this.$stage.children("."+this.settings.centerClass).removeClass(this.settings.centerClass),this.$stage.children().eq(this.current()).addClass(this.settings.centerClass))}}],e.prototype.initialize=function(){if(this.trigger("initialize"),this.$element.addClass(this.settings.baseClass).addClass(this.settings.themeClass).toggleClass("owl-rtl",this.settings.rtl),this.browserSupport(),this.settings.autoWidth&&this.state.imagesLoaded!==!0){var b,c,e;if(b=this.$element.find("img"),c=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:d,e=this.$element.children(c).width(),b.length&&0>=e)return this.preloadAutoWidthImages(b),!1}this.$element.addClass("owl-loading"),this.$stage=a("<"+this.settings.stageElement+' class="owl-stage"/>').wrap('<div class="owl-stage-outer">'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this._width=this.$element.width(),this.refresh(),this.$element.removeClass("owl-loading").addClass("owl-loaded"),this.eventsCall(),this.internalEvents(),this.addTriggerableEvents(),this.trigger("initialized")},e.prototype.setup=function(){var b=this.viewport(),c=this.options.responsive,d=-1,e=null;c?(a.each(c,function(a){b>=a&&a>d&&(d=Number(a))}),e=a.extend({},this.options,c[d]),delete e.responsive,e.responsiveClass&&this.$element.attr("class",function(a,b){return b.replace(/\b owl-responsive-\S+/g,"")}).addClass("owl-responsive-"+d)):e=a.extend({},this.options),(null===this.settings||this._breakpoint!==d)&&(this.trigger("change",{property:{name:"settings",value:e}}),this._breakpoint=d,this.settings=e,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}}))},e.prototype.optionsLogic=function(){this.$element.toggleClass("owl-center",this.settings.center),this.settings.loop&&this._items.length<this.settings.items&&(this.settings.loop=!1),this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},e.prototype.prepare=function(b){var c=this.trigger("prepare",{content:b});return c.data||(c.data=a("<"+this.settings.itemElement+"/>").addClass(this.settings.itemClass).append(b)),this.trigger("prepared",{content:c.data}),c.data},e.prototype.update=function(){for(var b=0,c=this._pipe.length,d=a.proxy(function(a){return this[a]},this._invalidated),e={};c>b;)(this._invalidated.all||a.grep(this._pipe[b].filter,d).length>0)&&this._pipe[b].run(e),b++;this._invalidated={}},e.prototype.width=function(a){switch(a=a||e.Width.Default){case e.Width.Inner:case e.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},e.prototype.refresh=function(){if(0===this._items.length)return!1;(new Date).getTime();this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$stage.addClass("owl-refresh"),this.update(),this.$stage.removeClass("owl-refresh"),this.state.orientation=b.orientation,this.watchVisibility(),this.trigger("refreshed")},e.prototype.eventsCall=function(){this.e._onDragStart=a.proxy(function(a){this.onDragStart(a)},this),this.e._onDragMove=a.proxy(function(a){this.onDragMove(a)},this),this.e._onDragEnd=a.proxy(function(a){this.onDragEnd(a)},this),this.e._onResize=a.proxy(function(a){this.onResize(a)},this),this.e._transitionEnd=a.proxy(function(a){this.transitionEnd(a)},this),this.e._preventClick=a.proxy(function(a){this.preventClick(a)},this)},e.prototype.onThrottledResize=function(){b.clearTimeout(this.resizeTimer),this.resizeTimer=b.setTimeout(this.e._onResize,this.settings.responsiveRefreshRate)},e.prototype.onResize=function(){return this._items.length?this._width===this.$element.width()?!1:this.trigger("resize").isDefaultPrevented()?!1:(this._width=this.$element.width(),this.invalidate("width"),this.refresh(),void this.trigger("resized")):!1},e.prototype.eventsRouter=function(a){var b=a.type;"mousedown"===b||"touchstart"===b?this.onDragStart(a):"mousemove"===b||"touchmove"===b?this.onDragMove(a):"mouseup"===b||"touchend"===b?this.onDragEnd(a):"touchcancel"===b&&this.onDragEnd(a)},e.prototype.internalEvents=function(){var c=(k(),l());this.settings.mouseDrag?(this.$stage.on("mousedown",a.proxy(function(a){this.eventsRouter(a)},this)),this.$stage.on("dragstart",function(){return!1}),this.$stage.get(0).onselectstart=function(){return!1}):this.$element.addClass("owl-text-select-on"),this.settings.touchDrag&&!c&&this.$stage.on("touchstart touchcancel",a.proxy(function(a){this.eventsRouter(a)},this)),this.transitionEndVendor&&this.on(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd,!1),this.settings.responsive!==!1&&this.on(b,"resize",a.proxy(this.onThrottledResize,this))},e.prototype.onDragStart=function(d){var e,g,h,i;if(e=d.originalEvent||d||b.event,3===e.which||this.state.isTouch)return!1;if("mousedown"===e.type&&this.$stage.addClass("owl-grab"),this.trigger("drag"),this.drag.startTime=(new Date).getTime(),this.speed(0),this.state.isTouch=!0,this.state.isScrolling=!1,this.state.isSwiping=!1,this.drag.distance=0,g=f(e).x,h=f(e).y,this.drag.offsetX=this.$stage.position().left,this.drag.offsetY=this.$stage.position().top,this.settings.rtl&&(this.drag.offsetX=this.$stage.position().left+this.$stage.width()-this.width()+this.settings.margin),this.state.inMotion&&this.support3d)i=this.getTransformProperty(),this.drag.offsetX=i,this.animate(i),this.state.inMotion=!0;else if(this.state.inMotion&&!this.support3d)return this.state.inMotion=!1,!1;this.drag.startX=g-this.drag.offsetX,this.drag.startY=h-this.drag.offsetY,this.drag.start=g-this.drag.startX,this.drag.targetEl=e.target||e.srcElement,this.drag.updatedX=this.drag.start,("IMG"===this.drag.targetEl.tagName||"A"===this.drag.targetEl.tagName)&&(this.drag.targetEl.draggable=!1),a(c).on("mousemove.owl.dragEvents mouseup.owl.dragEvents touchmove.owl.dragEvents touchend.owl.dragEvents",a.proxy(function(a){this.eventsRouter(a)},this))},e.prototype.onDragMove=function(a){var c,e,g,h,i,j;this.state.isTouch&&(this.state.isScrolling||(c=a.originalEvent||a||b.event,e=f(c).x,g=f(c).y,this.drag.currentX=e-this.drag.startX,this.drag.currentY=g-this.drag.startY,this.drag.distance=this.drag.currentX-this.drag.offsetX,this.drag.distance<0?this.state.direction=this.settings.rtl?"right":"left":this.drag.distance>0&&(this.state.direction=this.settings.rtl?"left":"right"),this.settings.loop?this.op(this.drag.currentX,">",this.coordinates(this.minimum()))&&"right"===this.state.direction?this.drag.currentX-=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length):this.op(this.drag.currentX,"<",this.coordinates(this.maximum()))&&"left"===this.state.direction&&(this.drag.currentX+=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length)):(h=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),i=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),j=this.settings.pullDrag?this.drag.distance/5:0,this.drag.currentX=Math.max(Math.min(this.drag.currentX,h+j),i+j)),(this.drag.distance>8||this.drag.distance<-8)&&(c.preventDefault!==d?c.preventDefault():c.returnValue=!1,this.state.isSwiping=!0),this.drag.updatedX=this.drag.currentX,(this.drag.currentY>16||this.drag.currentY<-16)&&this.state.isSwiping===!1&&(this.state.isScrolling=!0,this.drag.updatedX=this.drag.start),this.animate(this.drag.updatedX)))},e.prototype.onDragEnd=function(b){var d,e,f;if(this.state.isTouch){if("mouseup"===b.type&&this.$stage.removeClass("owl-grab"),this.trigger("dragged"),this.drag.targetEl.removeAttribute("draggable"),this.state.isTouch=!1,this.state.isScrolling=!1,this.state.isSwiping=!1,0===this.drag.distance&&this.state.inMotion!==!0)return this.state.inMotion=!1,!1;this.drag.endTime=(new Date).getTime(),d=this.drag.endTime-this.drag.startTime,e=Math.abs(this.drag.distance),(e>3||d>300)&&this.removeClick(this.drag.targetEl),f=this.closest(this.drag.updatedX),this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(f),this.invalidate("position"),this.update(),this.settings.pullDrag||this.drag.updatedX!==this.coordinates(f)||this.transitionEnd(),this.drag.distance=0,a(c).off(".owl.dragEvents")}},e.prototype.removeClick=function(c){this.drag.targetEl=c,a(c).on("click.preventClick",this.e._preventClick),b.setTimeout(function(){a(c).off("click.preventClick")},300)},e.prototype.preventClick=function(b){b.preventDefault?b.preventDefault():b.returnValue=!1,b.stopPropagation&&b.stopPropagation(),a(b.target).off("click.preventClick")},e.prototype.getTransformProperty=function(){var a,c;return a=b.getComputedStyle(this.$stage.get(0),null).getPropertyValue(this.vendorName+"transform"),a=a.replace(/matrix(3d)?\(|\)/g,"").split(","),c=16===a.length,c!==!0?a[4]:a[12]},e.prototype.closest=function(b){var c=-1,d=30,e=this.width(),f=this.coordinates();return this.settings.freeDrag||a.each(f,a.proxy(function(a,g){return b>g-d&&g+d>b?c=a:this.op(b,"<",g)&&this.op(b,">",f[a+1]||g-e)&&(c="left"===this.state.direction?a+1:a),-1===c},this)),this.settings.loop||(this.op(b,">",f[this.minimum()])?c=b=this.minimum():this.op(b,"<",f[this.maximum()])&&(c=b=this.maximum())),c},e.prototype.animate=function(b){this.trigger("translate"),this.state.inMotion=this.speed()>0,this.support3d?this.$stage.css({transform:"translate3d("+b+"px,0px, 0px)",transition:this.speed()/1e3+"s"}):this.state.isTouch?this.$stage.css({left:b+"px"}):this.$stage.animate({left:b},this.speed()/1e3,this.settings.fallbackEasing,a.proxy(function(){this.state.inMotion&&this.transitionEnd()},this))},e.prototype.current=function(a){if(a===d)return this._current;if(0===this._items.length)return d;if(a=this.normalize(a),this._current!==a){var b=this.trigger("change",{property:{name:"position",value:a}});b.data!==d&&(a=this.normalize(b.data)),this._current=a,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},e.prototype.invalidate=function(a){this._invalidated[a]=!0},e.prototype.reset=function(a){a=this.normalize(a),a!==d&&(this._speed=0,this._current=a,this.suppress(["translate","translated"]),this.animate(this.coordinates(a)),this.release(["translate","translated"]))},e.prototype.normalize=function(b,c){var e=c?this._items.length:this._items.length+this._clones.length;return!a.isNumeric(b)||1>e?d:b=this._clones.length?(b%e+e)%e:Math.max(this.minimum(c),Math.min(this.maximum(c),b))},e.prototype.relative=function(a){return a=this.normalize(a),a-=this._clones.length/2,this.normalize(a,!0)},e.prototype.maximum=function(a){var b,c,d,e=0,f=this.settings;if(a)return this._items.length-1;if(!f.loop&&f.center)b=this._items.length-1;else if(f.loop||f.center)if(f.loop||f.center)b=this._items.length+f.items;else{if(!f.autoWidth&&!f.merge)throw"Can not detect maximum absolute position.";for(revert=f.rtl?1:-1,c=this.$stage.width()-this.$element.width();(d=this.coordinates(e))&&!(d*revert>=c);)b=++e}else b=this._items.length-f.items;return b},e.prototype.minimum=function(a){return a?0:this._clones.length/2},e.prototype.items=function(a){return a===d?this._items.slice():(a=this.normalize(a,!0),this._items[a])},e.prototype.mergers=function(a){return a===d?this._mergers.slice():(a=this.normalize(a,!0),this._mergers[a])},e.prototype.clones=function(b){var c=this._clones.length/2,e=c+this._items.length,f=function(a){return a%2===0?e+a/2:c-(a+1)/2};return b===d?a.map(this._clones,function(a,b){return f(b)}):a.map(this._clones,function(a,c){return a===b?f(c):null})},e.prototype.speed=function(a){return a!==d&&(this._speed=a),this._speed},e.prototype.coordinates=function(b){var c=null;return b===d?a.map(this._coordinates,a.proxy(function(a,b){return this.coordinates(b)},this)):(this.settings.center?(c=this._coordinates[b],c+=(this.width()-c+(this._coordinates[b-1]||0))/2*(this.settings.rtl?-1:1)):c=this._coordinates[b-1]||0,c)},e.prototype.duration=function(a,b,c){return Math.min(Math.max(Math.abs(b-a),1),6)*Math.abs(c||this.settings.smartSpeed)},e.prototype.to=function(c,d){if(this.settings.loop){var e=c-this.relative(this.current()),f=this.current(),g=this.current(),h=this.current()+e,i=0>g-h?!0:!1,j=this._clones.length+this._items.length;h<this.settings.items&&i===!1?(f=g+this._items.length,this.reset(f)):h>=j-this.settings.items&&i===!0&&(f=g-this._items.length,this.reset(f)),b.clearTimeout(this.e._goToLoop),this.e._goToLoop=b.setTimeout(a.proxy(function(){this.speed(this.duration(this.current(),f+e,d)),this.current(f+e),this.update()},this),30)}else this.speed(this.duration(this.current(),c,d)),this.current(c),this.update()},e.prototype.next=function(a){a=a||!1,this.to(this.relative(this.current())+1,a)},e.prototype.prev=function(a){a=a||!1,this.to(this.relative(this.current())-1,a)},e.prototype.transitionEnd=function(a){return a!==d&&(a.stopPropagation(),(a.target||a.srcElement||a.originalTarget)!==this.$stage.get(0))?!1:(this.state.inMotion=!1,void this.trigger("translated"))},e.prototype.viewport=function(){var d;if(this.options.responsiveBaseElement!==b)d=a(this.options.responsiveBaseElement).width();else if(b.innerWidth)d=b.innerWidth;else{if(!c.documentElement||!c.documentElement.clientWidth)throw"Can not detect viewport width.";d=c.documentElement.clientWidth}return d},e.prototype.replace=function(b){this.$stage.empty(),this._items=[],b&&(b=b instanceof jQuery?b:a(b)),this.settings.nestedItemSelector&&(b=b.find("."+this.settings.nestedItemSelector)),b.filter(function(){return 1===this.nodeType}).each(a.proxy(function(a,b){b=this.prepare(b),this.$stage.append(b),this._items.push(b),this._mergers.push(1*b.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)},this)),this.reset(a.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},e.prototype.add=function(a,b){b=b===d?this._items.length:this.normalize(b,!0),this.trigger("add",{content:a,position:b}),0===this._items.length||b===this._items.length?(this.$stage.append(a),this._items.push(a),this._mergers.push(1*a.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)):(this._items[b].before(a),this._items.splice(b,0,a),this._mergers.splice(b,0,1*a.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)),this.invalidate("items"),this.trigger("added",{content:a,position:b})},e.prototype.remove=function(a){a=this.normalize(a,!0),a!==d&&(this.trigger("remove",{content:this._items[a],position:a}),this._items[a].remove(),this._items.splice(a,1),this._mergers.splice(a,1),this.invalidate("items"),this.trigger("removed",{content:null,position:a}))},e.prototype.addTriggerableEvents=function(){var b=a.proxy(function(b,c){return a.proxy(function(a){a.relatedTarget!==this&&(this.suppress([c]),b.apply(this,[].slice.call(arguments,1)),this.release([c]))},this)},this);a.each({next:this.next,prev:this.prev,to:this.to,destroy:this.destroy,refresh:this.refresh,replace:this.replace,add:this.add,remove:this.remove},a.proxy(function(a,c){this.$element.on(a+".owl.carousel",b(c,a+".owl.carousel"))},this))},e.prototype.watchVisibility=function(){function c(a){return a.offsetWidth>0&&a.offsetHeight>0}function d(){c(this.$element.get(0))&&(this.$element.removeClass("owl-hidden"),this.refresh(),b.clearInterval(this.e._checkVisibile))}c(this.$element.get(0))||(this.$element.addClass("owl-hidden"),b.clearInterval(this.e._checkVisibile),this.e._checkVisibile=b.setInterval(a.proxy(d,this),500))},e.prototype.preloadAutoWidthImages=function(b){var c,d,e,f;c=0,d=this,b.each(function(g,h){e=a(h),f=new Image,f.onload=function(){c++,e.attr("src",f.src),e.css("opacity",1),c>=b.length&&(d.state.imagesLoaded=!0,d.initialize())},f.src=e.attr("src")||e.attr("data-src")||e.attr("data-src-retina")})},e.prototype.destroy=function(){this.$element.hasClass(this.settings.themeClass)&&this.$element.removeClass(this.settings.themeClass),this.settings.responsive!==!1&&a(b).off("resize.owl.carousel"),this.transitionEndVendor&&this.off(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd);for(var d in this._plugins)this._plugins[d].destroy();(this.settings.mouseDrag||this.settings.touchDrag)&&(this.$stage.off("mousedown touchstart touchcancel"),a(c).off(".owl.dragEvents"),this.$stage.get(0).onselectstart=function(){},this.$stage.off("dragstart",function(){return!1})),this.$element.off(".owl"),this.$stage.children(".cloned").remove(),this.e=null,this.$element.removeData("owlCarousel"),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.unwrap()},e.prototype.op=function(a,b,c){var d=this.settings.rtl;switch(b){case"<":return d?a>c:c>a;case">":return d?c>a:a>c;case">=":return d?c>=a:a>=c;case"<=":return d?a>=c:c>=a}},e.prototype.on=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)},e.prototype.off=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent("on"+b,c)},e.prototype.trigger=function(b,c,d){var e={item:{count:this._items.length,index:this.current()}},f=a.camelCase(a.grep(["on",b,d],function(a){return a}).join("-").toLowerCase()),g=a.Event([b,"owl",d||"carousel"].join(".").toLowerCase(),a.extend({relatedTarget:this},e,c));return this._supress[b]||(a.each(this._plugins,function(a,b){b.onTrigger&&b.onTrigger(g)}),this.$element.trigger(g),this.settings&&"function"==typeof this.settings[f]&&this.settings[f].apply(this,g)),g},e.prototype.suppress=function(b){a.each(b,a.proxy(function(a,b){this._supress[b]=!0},this))},e.prototype.release=function(b){a.each(b,a.proxy(function(a,b){delete this._supress[b]},this))},e.prototype.browserSupport=function(){if(this.support3d=j(),this.support3d){this.transformVendor=i();var a=["transitionend","webkitTransitionEnd","transitionend","oTransitionEnd"];this.transitionEndVendor=a[h()],this.vendorName=this.transformVendor.replace(/Transform/i,""),this.vendorName=""!==this.vendorName?"-"+this.vendorName.toLowerCase()+"-":""}this.state.orientation=b.orientation},a.fn.owlCarousel=function(b){return this.each(function(){a(this).data("owlCarousel")||a(this).data("owlCarousel",new e(this,b))})},a.fn.owlCarousel.Constructor=e}(window.Zepto||window.jQuery,window,document),function(a,b){var c=function(b){this._core=b,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel":a.proxy(function(b){if(b.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(b.property&&"position"==b.property.name||"initialized"==b.type))for(var c=this._core.settings,d=c.center&&Math.ceil(c.items/2)||c.items,e=c.center&&-1*d||0,f=(b.property&&b.property.value||this._core.current())+e,g=this._core.clones().length,h=a.proxy(function(a,b){this.load(b)},this);e++<d;)this.load(g/2+this._core.relative(f)),g&&a.each(this._core.clones(this._core.relative(f++)),h)},this)},this._core.options=a.extend({},c.Defaults,this._core.options),this._core.$element.on(this._handlers)};c.Defaults={lazyLoad:!1},c.prototype.load=function(c){var d=this._core.$stage.children().eq(c),e=d&&d.find(".owl-lazy");!e||a.inArray(d.get(0),this._loaded)>-1||(e.each(a.proxy(function(c,d){var e,f=a(d),g=b.devicePixelRatio>1&&f.attr("data-src-retina")||f.attr("data-src");this._core.trigger("load",{element:f,url:g},"lazy"),f.is("img")?f.one("load.owl.lazy",a.proxy(function(){f.css("opacity",1),this._core.trigger("loaded",{element:f,url:g},"lazy")},this)).attr("src",g):(e=new Image,e.onload=a.proxy(function(){f.css({"background-image":"url("+g+")",opacity:"1"}),this._core.trigger("loaded",{element:f,url:g},"lazy")},this),e.src=g)},this)),this._loaded.push(d.get(0)))},c.prototype.destroy=function(){var a,b;for(a in this.handlers)this._core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Lazy=c}(window.Zepto||window.jQuery,window,document),function(a){var b=function(c){this._core=c,this._handlers={"initialized.owl.carousel":a.proxy(function(){this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":a.proxy(function(a){this._core.settings.autoHeight&&"position"==a.property.name&&this.update()},this),"loaded.owl.lazy":a.proxy(function(a){this._core.settings.autoHeight&&a.element.closest("."+this._core.settings.itemClass)===this._core.$stage.children().eq(this._core.current())&&this.update()},this)},this._core.options=a.extend({},b.Defaults,this._core.options),this._core.$element.on(this._handlers)};b.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},b.prototype.update=function(){this._core.$stage.parent().height(this._core.$stage.children().eq(this._core.current()).height()).addClass(this._core.settings.autoHeightClass)},b.prototype.destroy=function(){var a,b;for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoHeight=b}(window.Zepto||window.jQuery,window,document),function(a,b,c){var d=function(b){this._core=b,this._videos={},this._playing=null,this._fullscreen=!1,this._handlers={"resize.owl.carousel":a.proxy(function(a){this._core.settings.video&&!this.isInFullScreen()&&a.preventDefault()},this),"refresh.owl.carousel changed.owl.carousel":a.proxy(function(){this._playing&&this.stop()},this),"prepared.owl.carousel":a.proxy(function(b){var c=a(b.content).find(".owl-video");c.length&&(c.css("display","none"),this.fetch(c,a(b.content)))},this)},this._core.options=a.extend({},d.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",a.proxy(function(a){this.play(a)},this))};d.Defaults={video:!1,videoHeight:!1,videoWidth:!1},d.prototype.fetch=function(a,b){var c=a.attr("data-vimeo-id")?"vimeo":"youtube",d=a.attr("data-vimeo-id")||a.attr("data-youtube-id"),e=a.attr("data-width")||this._core.settings.videoWidth,f=a.attr("data-height")||this._core.settings.videoHeight,g=a.attr("href");if(!g)throw new Error("Missing video URL.");if(d=g.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),d[3].indexOf("youtu")>-1)c="youtube";else{if(!(d[3].indexOf("vimeo")>-1))throw new Error("Video URL not supported.");c="vimeo"}d=d[6],this._videos[g]={type:c,id:d,width:e,height:f},b.attr("data-video",g),this.thumbnail(a,this._videos[g])},d.prototype.thumbnail=function(b,c){var d,e,f,g=c.width&&c.height?'style="width:'+c.width+"px;height:"+c.height+'px;"':"",h=b.find("img"),i="src",j="",k=this._core.settings,l=function(a){e='<div class="owl-video-play-icon"></div>',d=k.lazyLoad?'<div class="owl-video-tn '+j+'" '+i+'="'+a+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+a+')"></div>',b.after(d),b.after(e)};return b.wrap('<div class="owl-video-wrapper"'+g+"></div>"),this._core.settings.lazyLoad&&(i="data-src",j="owl-lazy"),h.length?(l(h.attr(i)),h.remove(),!1):void("youtube"===c.type?(f="http://img.youtube.com/vi/"+c.id+"/hqdefault.jpg",l(f)):"vimeo"===c.type&&a.ajax({type:"GET",url:"http://vimeo.com/api/v2/video/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function(a){f=a[0].thumbnail_large,l(f)}}))},d.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null},d.prototype.play=function(b){this._core.trigger("play",null,"video"),this._playing&&this.stop();var c,d,e=a(b.target||b.srcElement),f=e.closest("."+this._core.settings.itemClass),g=this._videos[f.attr("data-video")],h=g.width||"100%",i=g.height||this._core.$stage.height();"youtube"===g.type?c='<iframe width="'+h+'" height="'+i+'" src="http://www.youtube.com/embed/'+g.id+"?autoplay=1&v="+g.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===g.type&&(c='<iframe src="http://player.vimeo.com/video/'+g.id+'?autoplay=1" width="'+h+'" height="'+i+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),f.addClass("owl-video-playing"),this._playing=f,d=a('<div style="height:'+i+"px; width:"+h+'px" class="owl-video-frame">'+c+"</div>"),e.after(d)},d.prototype.isInFullScreen=function(){var d=c.fullscreenElement||c.mozFullScreenElement||c.webkitFullscreenElement;return d&&a(d).parent().hasClass("owl-video-frame")&&(this._core.speed(0),this._fullscreen=!0),d&&this._fullscreen&&this._playing?!1:this._fullscreen?(this._fullscreen=!1,!1):this._playing&&this._core.state.orientation!==b.orientation?(this._core.state.orientation=b.orientation,!1):!0},d.prototype.destroy=function(){var a,b;this._core.$element.off("click.owl.video");for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Video=d}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this.core=b,this.core.options=a.extend({},e.Defaults,this.core.options),this.swapping=!0,this.previous=d,this.next=d,this.handlers={"change.owl.carousel":a.proxy(function(a){"position"==a.property.name&&(this.previous=this.core.current(),this.next=a.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":a.proxy(function(a){this.swapping="translated"==a.type},this),"translate.owl.carousel":a.proxy(function(){this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};e.Defaults={animateOut:!1,animateIn:!1},e.prototype.swap=function(){if(1===this.core.settings.items&&this.core.support3d){this.core.speed(0);var b,c=a.proxy(this.clear,this),d=this.core.$stage.children().eq(this.previous),e=this.core.$stage.children().eq(this.next),f=this.core.settings.animateIn,g=this.core.settings.animateOut;this.core.current()!==this.previous&&(g&&(b=this.core.coordinates(this.previous)-this.core.coordinates(this.next),d.css({left:b+"px"}).addClass("animated owl-animated-out").addClass(g).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",c)),f&&e.addClass("animated owl-animated-in").addClass(f).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",c))}},e.prototype.clear=function(b){a(b.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.transitionEnd()},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this.core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Animate=e}(window.Zepto||window.jQuery,window,document),function(a,b,c){var d=function(b){this.core=b,this.core.options=a.extend({},d.Defaults,this.core.options),this.handlers={"translated.owl.carousel refreshed.owl.carousel":a.proxy(function(){this.autoplay()
},this),"play.owl.autoplay":a.proxy(function(a,b,c){this.play(b,c)},this),"stop.owl.autoplay":a.proxy(function(){this.stop()},this),"mouseover.owl.autoplay":a.proxy(function(){this.core.settings.autoplayHoverPause&&this.pause()},this),"mouseleave.owl.autoplay":a.proxy(function(){this.core.settings.autoplayHoverPause&&this.autoplay()},this)},this.core.$element.on(this.handlers)};d.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},d.prototype.autoplay=function(){this.core.settings.autoplay&&!this.core.state.videoPlay?(b.clearInterval(this.interval),this.interval=b.setInterval(a.proxy(function(){this.play()},this),this.core.settings.autoplayTimeout)):b.clearInterval(this.interval)},d.prototype.play=function(){return c.hidden===!0||this.core.state.isTouch||this.core.state.isScrolling||this.core.state.isSwiping||this.core.state.inMotion?void 0:this.core.settings.autoplay===!1?void b.clearInterval(this.interval):void this.core.next(this.core.settings.autoplaySpeed)},d.prototype.stop=function(){b.clearInterval(this.interval)},d.prototype.pause=function(){b.clearInterval(this.interval)},d.prototype.destroy=function(){var a,c;b.clearInterval(this.interval);for(a in this.handlers)this.core.$element.off(a,this.handlers[a]);for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},a.fn.owlCarousel.Constructor.Plugins.autoplay=d}(window.Zepto||window.jQuery,window,document),function(a){"use strict";var b=function(c){this._core=c,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":a.proxy(function(b){this._core.settings.dotsData&&this._templates.push(a(b.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot"))},this),"add.owl.carousel":a.proxy(function(b){this._core.settings.dotsData&&this._templates.splice(b.position,0,a(b.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot"))},this),"remove.owl.carousel prepared.owl.carousel":a.proxy(function(a){this._core.settings.dotsData&&this._templates.splice(a.position,1)},this),"change.owl.carousel":a.proxy(function(a){if("position"==a.property.name&&!this._core.state.revert&&!this._core.settings.loop&&this._core.settings.navRewind){var b=this._core.current(),c=this._core.maximum(),d=this._core.minimum();a.data=a.property.value>c?b>=c?d:c:a.property.value<d?c:a.property.value}},this),"changed.owl.carousel":a.proxy(function(a){"position"==a.property.name&&this.draw()},this),"refreshed.owl.carousel":a.proxy(function(){this._initialized||(this.initialize(),this._initialized=!0),this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation")},this)},this._core.options=a.extend({},b.Defaults,this._core.options),this.$element.on(this._handlers)};b.Defaults={nav:!1,navRewind:!0,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotData:!1,dotsSpeed:!1,dotsContainer:!1,controlsClass:"owl-controls"},b.prototype.initialize=function(){var b,c,d=this._core.settings;d.dotsData||(this._templates=[a("<div>").addClass(d.dotClass).append(a("<span>")).prop("outerHTML")]),d.navContainer&&d.dotsContainer||(this._controls.$container=a("<div>").addClass(d.controlsClass).appendTo(this.$element)),this._controls.$indicators=d.dotsContainer?a(d.dotsContainer):a("<div>").hide().addClass(d.dotsClass).appendTo(this._controls.$container),this._controls.$indicators.on("click","div",a.proxy(function(b){var c=a(b.target).parent().is(this._controls.$indicators)?a(b.target).index():a(b.target).parent().index();b.preventDefault(),this.to(c,d.dotsSpeed)},this)),b=d.navContainer?a(d.navContainer):a("<div>").addClass(d.navContainerClass).prependTo(this._controls.$container),this._controls.$next=a("<"+d.navElement+">"),this._controls.$previous=this._controls.$next.clone(),this._controls.$previous.addClass(d.navClass[0]).html(d.navText[0]).hide().prependTo(b).on("click",a.proxy(function(){this.prev(d.navSpeed)},this)),this._controls.$next.addClass(d.navClass[1]).html(d.navText[1]).hide().appendTo(b).on("click",a.proxy(function(){this.next(d.navSpeed)},this));for(c in this._overrides)this._core[c]=a.proxy(this[c],this)},b.prototype.destroy=function(){var a,b,c,d;for(a in this._handlers)this.$element.off(a,this._handlers[a]);for(b in this._controls)this._controls[b].remove();for(d in this.overides)this._core[d]=this._overrides[d];for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},b.prototype.update=function(){var a,b,c,d=this._core.settings,e=this._core.clones().length/2,f=e+this._core.items().length,g=d.center||d.autoWidth||d.dotData?1:d.dotsEach||d.items;if("page"!==d.slideBy&&(d.slideBy=Math.min(d.slideBy,d.items)),d.dots||"page"==d.slideBy)for(this._pages=[],a=e,b=0,c=0;f>a;a++)(b>=g||0===b)&&(this._pages.push({start:a-e,end:a-e+g-1}),b=0,++c),b+=this._core.mergers(this._core.relative(a))},b.prototype.draw=function(){var b,c,d="",e=this._core.settings,f=(this._core.$stage.children(),this._core.relative(this._core.current()));if(!e.nav||e.loop||e.navRewind||(this._controls.$previous.toggleClass("disabled",0>=f),this._controls.$next.toggleClass("disabled",f>=this._core.maximum())),this._controls.$previous.toggle(e.nav),this._controls.$next.toggle(e.nav),e.dots){if(b=this._pages.length-this._controls.$indicators.children().length,e.dotData&&0!==b){for(c=0;c<this._controls.$indicators.children().length;c++)d+=this._templates[this._core.relative(c)];this._controls.$indicators.html(d)}else b>0?(d=new Array(b+1).join(this._templates[0]),this._controls.$indicators.append(d)):0>b&&this._controls.$indicators.children().slice(b).remove();this._controls.$indicators.find(".active").removeClass("active"),this._controls.$indicators.children().eq(a.inArray(this.current(),this._pages)).addClass("active")}this._controls.$indicators.toggle(e.dots)},b.prototype.onTrigger=function(b){var c=this._core.settings;b.page={index:a.inArray(this.current(),this._pages),count:this._pages.length,size:c&&(c.center||c.autoWidth||c.dotData?1:c.dotsEach||c.items)}},b.prototype.current=function(){var b=this._core.relative(this._core.current());return a.grep(this._pages,function(a){return a.start<=b&&a.end>=b}).pop()},b.prototype.getPosition=function(b){var c,d,e=this._core.settings;return"page"==e.slideBy?(c=a.inArray(this.current(),this._pages),d=this._pages.length,b?++c:--c,c=this._pages[(c%d+d)%d].start):(c=this._core.relative(this._core.current()),d=this._core.items().length,b?c+=e.slideBy:c-=e.slideBy),c},b.prototype.next=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!0),b)},b.prototype.prev=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!1),b)},b.prototype.to=function(b,c,d){var e;d?a.proxy(this._overrides.to,this._core)(b,c):(e=this._pages.length,a.proxy(this._overrides.to,this._core)(this._pages[(b%e+e)%e].start,c))},a.fn.owlCarousel.Constructor.Plugins.Navigation=b}(window.Zepto||window.jQuery,window,document),function(a,b){"use strict";var c=function(d){this._core=d,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":a.proxy(function(){"URLHash"==this._core.settings.startPosition&&a(b).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":a.proxy(function(b){var c=a(b.content).find("[data-hash]").andSelf("[data-hash]").attr("data-hash");this._hashes[c]=b.content},this)},this._core.options=a.extend({},c.Defaults,this._core.options),this.$element.on(this._handlers),a(b).on("hashchange.owl.navigation",a.proxy(function(){var a=b.location.hash.substring(1),c=this._core.$stage.children(),d=this._hashes[a]&&c.index(this._hashes[a])||0;return a?void this._core.to(d,!1,!0):!1},this))};c.Defaults={URLhashListener:!1},c.prototype.destroy=function(){var c,d;a(b).off("hashchange.owl.navigation");for(c in this._handlers)this._core.$element.off(c,this._handlers[c]);for(d in Object.getOwnPropertyNames(this))"function"!=typeof this[d]&&(this[d]=null)},a.fn.owlCarousel.Constructor.Plugins.Hash=c}(window.Zepto||window.jQuery,window,document);



$(document).ready(function() {

	$('.button-up').on('click',function(event) {
		$('body, html').animate({scrollTop: 0}, 500)
	});


	var orgElementPos = $('.menu').position();
	orgElementTop = orgElementPos.top;

	$(document).on('scroll', stickIt);
	
	function stickIt() {
		if ($(window).scrollTop() >= 200) {
			$('.menu')
				.addClass('stuck');
			$('.button-up').fadeIn(300);
		} else {

			$('.menu')
				.removeClass('stuck');
			$('.button-up').fadeOut(300);
		}
	}

	$('.mobile-menu').on('click', function() {
		$('.main-logo').fadeToggle(100);
		$(this).toggleClass('open');
		$('.menu').toggleClass('open');
	})

	$('.mobile-contacts').on('click', function() {
		$('.main-logo').fadeToggle(100);
		$(this).toggleClass('open');
		$('.contacts__sidebar_mobile').toggleClass('open');
	})
	
$('.clients__list').owlCarousel({
	
	autoplay:true,
	autoplayHoverPause:true,
	loop:true,
	items: 8,
	responsiveClass:true,
	dots: false,
	navText: '',
	responsive:{
		0:{
			items:1,
			nav:true
		},
		600:{
			items:3,
			nav:false
		},
		1000:{
			items:5,
			nav:true,
			loop:false
		}
	}
});

$('.menu').on('click', function(e) {
	
	if ($(e.target).hasClass('page-nav')) {
		console.log(e.target)
		e.preventDefault();
		showSection($(e.target).attr('href'), true);
	}
});
showSection(window.location.hash, false);


$(window).scroll(function() {
	checkSection();
});

function showSection(section, isAnimate) {
 var
	 direction = section.replace(/#/, ''),
	 reqSection = $('.section').filter('[data-section="' + direction + '"]');
	console.log('section',reqSection);
 if (reqSection.length) {
 	var reqSectionPos = reqSection.offset().top - 70;    
		 console.log(reqSection.offset().top);
	 if (isAnimate) {
		 $('body, html').animate({scrollTop: reqSectionPos}, 500);
	 } else {
		 $('body, html').scrollTop(reqSectionPos);
	 };
}
 
			

};
function checkSection() {
	$('.section').each(function() {
		var
			$this = $(this),
			topEdge = $this.offset().top - 200,
			bottomEdge = topEdge + $this.height(),
			wScroll = $(window).scrollTop();
		if (topEdge < wScroll && bottomEdge > wScroll) {
			var
				currentId = $this.data('section'),
				reqLink = $('.menu__link').filter('[href="#' + currentId + '"]');
			reqLink
				.closest('.menu__item')
				.addClass('active')
				.siblings()
				.removeClass('active');
		}
	});
};



var $overlay = $('<div id="overlay"></div>');
var $image = $("<img>");

//An image to overlay
$overlay.append($image);

//Add overlay
$(".content__wrapper_thanks").append($overlay);

  //click the image and a scaled version of the full size image will appear
  $("#photo-gallery a").click( function(event) {
	console.log('show img');
	event.preventDefault();
	var imageLocation = $(this).attr("href");

	//update overlay with the image linked in the link
	$image.attr("src", imageLocation);

	//show the overlay
	$overlay.fadeIn(200);
  } );

  $("#overlay").click(function() {
	$( "#overlay" ).fadeOut(100);
  });
		
});

$(document).ready(function() {
	var map;

		DG.then(function () {
				map = DG.map('map', {
						center: [54.997444, 73.382648],
						zoom: 18,
						// pkg: 'basic',
						watch: true,
						skin: 'light',
						fullscreenControl: false,
						scrollWheelZoom: false
				});

				DG.marker([54.997540, 73.381165]).addTo(map).bindPopup('Яркий мир');
		});
	console.log('yea');
	var $slider = $(".slider"),
			$slideBGs = $(".slide__bg"),
			diff = 0,
			curSlide = 0,
			numOfSlides = $(".slide").length-1,
			animating = false,
			animTime = 500,
			autoSlideTimeout,
			autoSlideDelay = 6000,
			$pagination = $(".slider-pagi");
	
	function createBullets() {
		for (var i = 0; i < numOfSlides+1; i++) {
			var $li = $("<li class='slider-pagi__elem'></li>");
			$li.addClass("slider-pagi__elem-"+i).data("page", i);
			if (!i) $li.addClass("active");
			$pagination.append($li);
		}
	};
	
	createBullets();
	
	function manageControls() {
		$(".slider-control").removeClass("inactive");
		if (!curSlide) $(".slider-control.left").addClass("inactive");
		if (curSlide === numOfSlides) $(".slider-control.right").addClass("inactive");
	};
	
	function autoSlide() {
		autoSlideTimeout = setTimeout(function() {
			curSlide++;
			if (curSlide > numOfSlides) curSlide = 0;
			changeSlides();
		}, autoSlideDelay);
	};
	
	autoSlide();
	
	function changeSlides(instant) {
		if (!instant) {
			animating = true;
			manageControls();
			$slider.addClass("animating");
			$slider.css("top");
			$(".slide").removeClass("active");
			$(".slide-"+curSlide).addClass("active");
			setTimeout(function() {
				$slider.removeClass("animating");
				animating = false;
			}, animTime);
		}
		window.clearTimeout(autoSlideTimeout);
		$(".slider-pagi__elem").removeClass("active");
		$(".slider-pagi__elem-"+curSlide).addClass("active");
		$slider.css("transform", "translate3d("+ -curSlide*100 +"%,0,0)");
		$slideBGs.css("transform", "translate3d("+ curSlide*50 +"%,0,0)");
		diff = 0;
		autoSlide();
	}

	function navigateLeft() {
		if (animating) return;
		if (curSlide > 0) curSlide--;
		changeSlides();
	}

	function navigateRight() {
		if (animating) return;
		if (curSlide < numOfSlides) curSlide++;
		changeSlides();
	}

	$(document).on("mousedown touchstart", ".slider", function(e) {
		if (animating) return;
		window.clearTimeout(autoSlideTimeout);
		var startX = e.pageX || e.originalEvent.touches[0].pageX,
				winW = $(window).width();
		diff = 0;
		
		$(document).on("mousemove touchmove", function(e) {
			var x = e.pageX || e.originalEvent.touches[0].pageX;
			diff = (startX - x) / winW * 70;
			if ((!curSlide && diff < 0) || (curSlide === numOfSlides && diff > 0)) diff /= 2;
			$slider.css("transform", "translate3d("+ (-curSlide*100 - diff) +"%,0,0)");
			$slideBGs.css("transform", "translate3d("+ (curSlide*50 + diff/2) +"%,0,0)");
		});
	});
	
	$(document).on("mouseup touchend", function(e) {
		$(document).off("mousemove touchmove");
		if (animating) return;
		if (!diff) {
			changeSlides(true);
			return;
		}
		if (diff > -8 && diff < 8) {
			changeSlides();
			return;
		}
		if (diff <= -8) {
			navigateLeft();
		}
		if (diff >= 8) {
			navigateRight();
		}
	});
	
	$(document).on("click", ".slider-control", function() {
		if ($(this).hasClass("left")) {
			navigateLeft();
		} else {
			navigateRight();
		}
	});
	
	$(document).on("click", ".slider-pagi__elem", function() {
		curSlide = $(this).data("page");
		changeSlides();
	});
	
});

// $(document).ready(function(){
//  $("#form").submit(function() { //устанавливаем событие отправки для формы с id=form
//          var form_data = $(this).serialize(); //собераем все данные из формы
//          $.ajax({
//              type: "POST", //Метод отправки
//              url: "send.php", //путь до php фаила отправителя
//              data: form_data,
//              success: function() {
//                     //код в этом блоке выполняется при успешной отправке сообщения
//                      alert("Ваше сообщение отпрвлено!");
//                  })
//          });
//  });
// });


//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24oYSxiLGMsZCl7ZnVuY3Rpb24gZShiLGMpe3RoaXMuc2V0dGluZ3M9bnVsbCx0aGlzLm9wdGlvbnM9YS5leHRlbmQoe30sZS5EZWZhdWx0cyxjKSx0aGlzLiRlbGVtZW50PWEoYiksdGhpcy5kcmFnPWEuZXh0ZW5kKHt9LG0pLHRoaXMuc3RhdGU9YS5leHRlbmQoe30sbiksdGhpcy5lPWEuZXh0ZW5kKHt9LG8pLHRoaXMuX3BsdWdpbnM9e30sdGhpcy5fc3VwcmVzcz17fSx0aGlzLl9jdXJyZW50PW51bGwsdGhpcy5fc3BlZWQ9bnVsbCx0aGlzLl9jb29yZGluYXRlcz1bXSx0aGlzLl9icmVha3BvaW50PW51bGwsdGhpcy5fd2lkdGg9bnVsbCx0aGlzLl9pdGVtcz1bXSx0aGlzLl9jbG9uZXM9W10sdGhpcy5fbWVyZ2Vycz1bXSx0aGlzLl9pbnZhbGlkYXRlZD17fSx0aGlzLl9waXBlPVtdLGEuZWFjaChlLlBsdWdpbnMsYS5wcm94eShmdW5jdGlvbihhLGIpe3RoaXMuX3BsdWdpbnNbYVswXS50b0xvd2VyQ2FzZSgpK2Euc2xpY2UoMSldPW5ldyBiKHRoaXMpfSx0aGlzKSksYS5lYWNoKGUuUGlwZSxhLnByb3h5KGZ1bmN0aW9uKGIsYyl7dGhpcy5fcGlwZS5wdXNoKHtmaWx0ZXI6Yy5maWx0ZXIscnVuOmEucHJveHkoYy5ydW4sdGhpcyl9KX0sdGhpcykpLHRoaXMuc2V0dXAoKSx0aGlzLmluaXRpYWxpemUoKX1mdW5jdGlvbiBmKGEpe2lmKGEudG91Y2hlcyE9PWQpcmV0dXJue3g6YS50b3VjaGVzWzBdLnBhZ2VYLHk6YS50b3VjaGVzWzBdLnBhZ2VZfTtpZihhLnRvdWNoZXM9PT1kKXtpZihhLnBhZ2VYIT09ZClyZXR1cm57eDphLnBhZ2VYLHk6YS5wYWdlWX07aWYoYS5wYWdlWD09PWQpcmV0dXJue3g6YS5jbGllbnRYLHk6YS5jbGllbnRZfX19ZnVuY3Rpb24gZyhhKXt2YXIgYixkLGU9Yy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGY9YTtmb3IoYiBpbiBmKWlmKGQ9ZltiXSxcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5zdHlsZVtkXSlyZXR1cm4gZT1udWxsLFtkLGJdO3JldHVyblshMV19ZnVuY3Rpb24gaCgpe3JldHVybiBnKFtcInRyYW5zaXRpb25cIixcIldlYmtpdFRyYW5zaXRpb25cIixcIk1velRyYW5zaXRpb25cIixcIk9UcmFuc2l0aW9uXCJdKVsxXX1mdW5jdGlvbiBpKCl7cmV0dXJuIGcoW1widHJhbnNmb3JtXCIsXCJXZWJraXRUcmFuc2Zvcm1cIixcIk1velRyYW5zZm9ybVwiLFwiT1RyYW5zZm9ybVwiLFwibXNUcmFuc2Zvcm1cIl0pWzBdfWZ1bmN0aW9uIGooKXtyZXR1cm4gZyhbXCJwZXJzcGVjdGl2ZVwiLFwid2Via2l0UGVyc3BlY3RpdmVcIixcIk1velBlcnNwZWN0aXZlXCIsXCJPUGVyc3BlY3RpdmVcIixcIk1zUGVyc3BlY3RpdmVcIl0pWzBdfWZ1bmN0aW9uIGsoKXtyZXR1cm5cIm9udG91Y2hzdGFydFwiaW4gYnx8ISFuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50c31mdW5jdGlvbiBsKCl7cmV0dXJuIGIubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWR9dmFyIG0sbixvO209e3N0YXJ0OjAsc3RhcnRYOjAsc3RhcnRZOjAsY3VycmVudDowLGN1cnJlbnRYOjAsY3VycmVudFk6MCxvZmZzZXRYOjAsb2Zmc2V0WTowLGRpc3RhbmNlOm51bGwsc3RhcnRUaW1lOjAsZW5kVGltZTowLHVwZGF0ZWRYOjAsdGFyZ2V0RWw6bnVsbH0sbj17aXNUb3VjaDohMSxpc1Njcm9sbGluZzohMSxpc1N3aXBpbmc6ITEsZGlyZWN0aW9uOiExLGluTW90aW9uOiExfSxvPXtfb25EcmFnU3RhcnQ6bnVsbCxfb25EcmFnTW92ZTpudWxsLF9vbkRyYWdFbmQ6bnVsbCxfdHJhbnNpdGlvbkVuZDpudWxsLF9yZXNpemVyOm51bGwsX3Jlc3BvbnNpdmVDYWxsOm51bGwsX2dvVG9Mb29wOm51bGwsX2NoZWNrVmlzaWJpbGU6bnVsbH0sZS5EZWZhdWx0cz17aXRlbXM6Myxsb29wOiExLGNlbnRlcjohMSxtb3VzZURyYWc6ITAsdG91Y2hEcmFnOiEwLHB1bGxEcmFnOiEwLGZyZWVEcmFnOiExLG1hcmdpbjowLHN0YWdlUGFkZGluZzowLG1lcmdlOiExLG1lcmdlRml0OiEwLGF1dG9XaWR0aDohMSxzdGFydFBvc2l0aW9uOjAscnRsOiExLHNtYXJ0U3BlZWQ6MjUwLGZsdWlkU3BlZWQ6ITEsZHJhZ0VuZFNwZWVkOiExLHJlc3BvbnNpdmU6e30scmVzcG9uc2l2ZVJlZnJlc2hSYXRlOjIwMCxyZXNwb25zaXZlQmFzZUVsZW1lbnQ6YixyZXNwb25zaXZlQ2xhc3M6ITEsZmFsbGJhY2tFYXNpbmc6XCJzd2luZ1wiLGluZm86ITEsbmVzdGVkSXRlbVNlbGVjdG9yOiExLGl0ZW1FbGVtZW50OlwiZGl2XCIsc3RhZ2VFbGVtZW50OlwiZGl2XCIsdGhlbWVDbGFzczpcIm93bC10aGVtZVwiLGJhc2VDbGFzczpcIm93bC1jYXJvdXNlbFwiLGl0ZW1DbGFzczpcIm93bC1pdGVtXCIsY2VudGVyQ2xhc3M6XCJjZW50ZXJcIixhY3RpdmVDbGFzczpcImFjdGl2ZVwifSxlLldpZHRoPXtEZWZhdWx0OlwiZGVmYXVsdFwiLElubmVyOlwiaW5uZXJcIixPdXRlcjpcIm91dGVyXCJ9LGUuUGx1Z2lucz17fSxlLlBpcGU9W3tmaWx0ZXI6W1wid2lkdGhcIixcIml0ZW1zXCIsXCJzZXR0aW5nc1wiXSxydW46ZnVuY3Rpb24oYSl7YS5jdXJyZW50PXRoaXMuX2l0ZW1zJiZ0aGlzLl9pdGVtc1t0aGlzLnJlbGF0aXZlKHRoaXMuX2N1cnJlbnQpXX19LHtmaWx0ZXI6W1wiaXRlbXNcIixcInNldHRpbmdzXCJdLHJ1bjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX2Nsb25lcyxiPXRoaXMuJHN0YWdlLmNoaWxkcmVuKFwiLmNsb25lZFwiKTsoYi5sZW5ndGghPT1hLmxlbmd0aHx8IXRoaXMuc2V0dGluZ3MubG9vcCYmYS5sZW5ndGg+MCkmJih0aGlzLiRzdGFnZS5jaGlsZHJlbihcIi5jbG9uZWRcIikucmVtb3ZlKCksdGhpcy5fY2xvbmVzPVtdKX19LHtmaWx0ZXI6W1wiaXRlbXNcIixcInNldHRpbmdzXCJdLHJ1bjpmdW5jdGlvbigpe3ZhciBhLGIsYz10aGlzLl9jbG9uZXMsZD10aGlzLl9pdGVtcyxlPXRoaXMuc2V0dGluZ3MubG9vcD9jLmxlbmd0aC1NYXRoLm1heCgyKnRoaXMuc2V0dGluZ3MuaXRlbXMsNCk6MDtmb3IoYT0wLGI9TWF0aC5hYnMoZS8yKTtiPmE7YSsrKWU+MD8odGhpcy4kc3RhZ2UuY2hpbGRyZW4oKS5lcShkLmxlbmd0aCtjLmxlbmd0aC0xKS5yZW1vdmUoKSxjLnBvcCgpLHRoaXMuJHN0YWdlLmNoaWxkcmVuKCkuZXEoMCkucmVtb3ZlKCksYy5wb3AoKSk6KGMucHVzaChjLmxlbmd0aC8yKSx0aGlzLiRzdGFnZS5hcHBlbmQoZFtjW2MubGVuZ3RoLTFdXS5jbG9uZSgpLmFkZENsYXNzKFwiY2xvbmVkXCIpKSxjLnB1c2goZC5sZW5ndGgtMS0oYy5sZW5ndGgtMSkvMiksdGhpcy4kc3RhZ2UucHJlcGVuZChkW2NbYy5sZW5ndGgtMV1dLmNsb25lKCkuYWRkQ2xhc3MoXCJjbG9uZWRcIikpKX19LHtmaWx0ZXI6W1wid2lkdGhcIixcIml0ZW1zXCIsXCJzZXR0aW5nc1wiXSxydW46ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZD10aGlzLnNldHRpbmdzLnJ0bD8xOi0xLGU9KHRoaXMud2lkdGgoKS90aGlzLnNldHRpbmdzLml0ZW1zKS50b0ZpeGVkKDMpLGY9MDtmb3IodGhpcy5fY29vcmRpbmF0ZXM9W10sYj0wLGM9dGhpcy5fY2xvbmVzLmxlbmd0aCt0aGlzLl9pdGVtcy5sZW5ndGg7Yz5iO2IrKylhPXRoaXMuX21lcmdlcnNbdGhpcy5yZWxhdGl2ZShiKV0sYT10aGlzLnNldHRpbmdzLm1lcmdlRml0JiZNYXRoLm1pbihhLHRoaXMuc2V0dGluZ3MuaXRlbXMpfHxhLGYrPSh0aGlzLnNldHRpbmdzLmF1dG9XaWR0aD90aGlzLl9pdGVtc1t0aGlzLnJlbGF0aXZlKGIpXS53aWR0aCgpK3RoaXMuc2V0dGluZ3MubWFyZ2luOmUqYSkqZCx0aGlzLl9jb29yZGluYXRlcy5wdXNoKGYpfX0se2ZpbHRlcjpbXCJ3aWR0aFwiLFwiaXRlbXNcIixcInNldHRpbmdzXCJdLHJ1bjpmdW5jdGlvbigpe3ZhciBiLGMsZD0odGhpcy53aWR0aCgpL3RoaXMuc2V0dGluZ3MuaXRlbXMpLnRvRml4ZWQoMyksZT17d2lkdGg6TWF0aC5hYnModGhpcy5fY29vcmRpbmF0ZXNbdGhpcy5fY29vcmRpbmF0ZXMubGVuZ3RoLTFdKSsyKnRoaXMuc2V0dGluZ3Muc3RhZ2VQYWRkaW5nLFwicGFkZGluZy1sZWZ0XCI6dGhpcy5zZXR0aW5ncy5zdGFnZVBhZGRpbmd8fFwiXCIsXCJwYWRkaW5nLXJpZ2h0XCI6dGhpcy5zZXR0aW5ncy5zdGFnZVBhZGRpbmd8fFwiXCJ9O2lmKHRoaXMuJHN0YWdlLmNzcyhlKSxlPXt3aWR0aDp0aGlzLnNldHRpbmdzLmF1dG9XaWR0aD9cImF1dG9cIjpkLXRoaXMuc2V0dGluZ3MubWFyZ2lufSxlW3RoaXMuc2V0dGluZ3MucnRsP1wibWFyZ2luLWxlZnRcIjpcIm1hcmdpbi1yaWdodFwiXT10aGlzLnNldHRpbmdzLm1hcmdpbiwhdGhpcy5zZXR0aW5ncy5hdXRvV2lkdGgmJmEuZ3JlcCh0aGlzLl9tZXJnZXJzLGZ1bmN0aW9uKGEpe3JldHVybiBhPjF9KS5sZW5ndGg+MClmb3IoYj0wLGM9dGhpcy5fY29vcmRpbmF0ZXMubGVuZ3RoO2M+YjtiKyspZS53aWR0aD1NYXRoLmFicyh0aGlzLl9jb29yZGluYXRlc1tiXSktTWF0aC5hYnModGhpcy5fY29vcmRpbmF0ZXNbYi0xXXx8MCktdGhpcy5zZXR0aW5ncy5tYXJnaW4sdGhpcy4kc3RhZ2UuY2hpbGRyZW4oKS5lcShiKS5jc3MoZSk7ZWxzZSB0aGlzLiRzdGFnZS5jaGlsZHJlbigpLmNzcyhlKX19LHtmaWx0ZXI6W1wid2lkdGhcIixcIml0ZW1zXCIsXCJzZXR0aW5nc1wiXSxydW46ZnVuY3Rpb24oYSl7YS5jdXJyZW50JiZ0aGlzLnJlc2V0KHRoaXMuJHN0YWdlLmNoaWxkcmVuKCkuaW5kZXgoYS5jdXJyZW50KSl9fSx7ZmlsdGVyOltcInBvc2l0aW9uXCJdLHJ1bjpmdW5jdGlvbigpe3RoaXMuYW5pbWF0ZSh0aGlzLmNvb3JkaW5hdGVzKHRoaXMuX2N1cnJlbnQpKX19LHtmaWx0ZXI6W1wid2lkdGhcIixcInBvc2l0aW9uXCIsXCJpdGVtc1wiLFwic2V0dGluZ3NcIl0scnVuOmZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZT10aGlzLnNldHRpbmdzLnJ0bD8xOi0xLGY9Mip0aGlzLnNldHRpbmdzLnN0YWdlUGFkZGluZyxnPXRoaXMuY29vcmRpbmF0ZXModGhpcy5jdXJyZW50KCkpK2YsaD1nK3RoaXMud2lkdGgoKSplLGk9W107Zm9yKGM9MCxkPXRoaXMuX2Nvb3JkaW5hdGVzLmxlbmd0aDtkPmM7YysrKWE9dGhpcy5fY29vcmRpbmF0ZXNbYy0xXXx8MCxiPU1hdGguYWJzKHRoaXMuX2Nvb3JkaW5hdGVzW2NdKStmKmUsKHRoaXMub3AoYSxcIjw9XCIsZykmJnRoaXMub3AoYSxcIj5cIixoKXx8dGhpcy5vcChiLFwiPFwiLGcpJiZ0aGlzLm9wKGIsXCI+XCIsaCkpJiZpLnB1c2goYyk7dGhpcy4kc3RhZ2UuY2hpbGRyZW4oXCIuXCIrdGhpcy5zZXR0aW5ncy5hY3RpdmVDbGFzcykucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy5hY3RpdmVDbGFzcyksdGhpcy4kc3RhZ2UuY2hpbGRyZW4oXCI6ZXEoXCIraS5qb2luKFwiKSwgOmVxKFwiKStcIilcIikuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5hY3RpdmVDbGFzcyksdGhpcy5zZXR0aW5ncy5jZW50ZXImJih0aGlzLiRzdGFnZS5jaGlsZHJlbihcIi5cIit0aGlzLnNldHRpbmdzLmNlbnRlckNsYXNzKS5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLmNlbnRlckNsYXNzKSx0aGlzLiRzdGFnZS5jaGlsZHJlbigpLmVxKHRoaXMuY3VycmVudCgpKS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmNlbnRlckNsYXNzKSl9fV0sZS5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbigpe2lmKHRoaXMudHJpZ2dlcihcImluaXRpYWxpemVcIiksdGhpcy4kZWxlbWVudC5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmJhc2VDbGFzcykuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy50aGVtZUNsYXNzKS50b2dnbGVDbGFzcyhcIm93bC1ydGxcIix0aGlzLnNldHRpbmdzLnJ0bCksdGhpcy5icm93c2VyU3VwcG9ydCgpLHRoaXMuc2V0dGluZ3MuYXV0b1dpZHRoJiZ0aGlzLnN0YXRlLmltYWdlc0xvYWRlZCE9PSEwKXt2YXIgYixjLGU7aWYoYj10aGlzLiRlbGVtZW50LmZpbmQoXCJpbWdcIiksYz10aGlzLnNldHRpbmdzLm5lc3RlZEl0ZW1TZWxlY3Rvcj9cIi5cIit0aGlzLnNldHRpbmdzLm5lc3RlZEl0ZW1TZWxlY3RvcjpkLGU9dGhpcy4kZWxlbWVudC5jaGlsZHJlbihjKS53aWR0aCgpLGIubGVuZ3RoJiYwPj1lKXJldHVybiB0aGlzLnByZWxvYWRBdXRvV2lkdGhJbWFnZXMoYiksITF9dGhpcy4kZWxlbWVudC5hZGRDbGFzcyhcIm93bC1sb2FkaW5nXCIpLHRoaXMuJHN0YWdlPWEoXCI8XCIrdGhpcy5zZXR0aW5ncy5zdGFnZUVsZW1lbnQrJyBjbGFzcz1cIm93bC1zdGFnZVwiLz4nKS53cmFwKCc8ZGl2IGNsYXNzPVwib3dsLXN0YWdlLW91dGVyXCI+JyksdGhpcy4kZWxlbWVudC5hcHBlbmQodGhpcy4kc3RhZ2UucGFyZW50KCkpLHRoaXMucmVwbGFjZSh0aGlzLiRlbGVtZW50LmNoaWxkcmVuKCkubm90KHRoaXMuJHN0YWdlLnBhcmVudCgpKSksdGhpcy5fd2lkdGg9dGhpcy4kZWxlbWVudC53aWR0aCgpLHRoaXMucmVmcmVzaCgpLHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJvd2wtbG9hZGluZ1wiKS5hZGRDbGFzcyhcIm93bC1sb2FkZWRcIiksdGhpcy5ldmVudHNDYWxsKCksdGhpcy5pbnRlcm5hbEV2ZW50cygpLHRoaXMuYWRkVHJpZ2dlcmFibGVFdmVudHMoKSx0aGlzLnRyaWdnZXIoXCJpbml0aWFsaXplZFwiKX0sZS5wcm90b3R5cGUuc2V0dXA9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLnZpZXdwb3J0KCksYz10aGlzLm9wdGlvbnMucmVzcG9uc2l2ZSxkPS0xLGU9bnVsbDtjPyhhLmVhY2goYyxmdW5jdGlvbihhKXtiPj1hJiZhPmQmJihkPU51bWJlcihhKSl9KSxlPWEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyxjW2RdKSxkZWxldGUgZS5yZXNwb25zaXZlLGUucmVzcG9uc2l2ZUNsYXNzJiZ0aGlzLiRlbGVtZW50LmF0dHIoXCJjbGFzc1wiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIucmVwbGFjZSgvXFxiIG93bC1yZXNwb25zaXZlLVxcUysvZyxcIlwiKX0pLmFkZENsYXNzKFwib3dsLXJlc3BvbnNpdmUtXCIrZCkpOmU9YS5leHRlbmQoe30sdGhpcy5vcHRpb25zKSwobnVsbD09PXRoaXMuc2V0dGluZ3N8fHRoaXMuX2JyZWFrcG9pbnQhPT1kKSYmKHRoaXMudHJpZ2dlcihcImNoYW5nZVwiLHtwcm9wZXJ0eTp7bmFtZTpcInNldHRpbmdzXCIsdmFsdWU6ZX19KSx0aGlzLl9icmVha3BvaW50PWQsdGhpcy5zZXR0aW5ncz1lLHRoaXMuaW52YWxpZGF0ZShcInNldHRpbmdzXCIpLHRoaXMudHJpZ2dlcihcImNoYW5nZWRcIix7cHJvcGVydHk6e25hbWU6XCJzZXR0aW5nc1wiLHZhbHVlOnRoaXMuc2V0dGluZ3N9fSkpfSxlLnByb3RvdHlwZS5vcHRpb25zTG9naWM9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LnRvZ2dsZUNsYXNzKFwib3dsLWNlbnRlclwiLHRoaXMuc2V0dGluZ3MuY2VudGVyKSx0aGlzLnNldHRpbmdzLmxvb3AmJnRoaXMuX2l0ZW1zLmxlbmd0aDx0aGlzLnNldHRpbmdzLml0ZW1zJiYodGhpcy5zZXR0aW5ncy5sb29wPSExKSx0aGlzLnNldHRpbmdzLmF1dG9XaWR0aCYmKHRoaXMuc2V0dGluZ3Muc3RhZ2VQYWRkaW5nPSExLHRoaXMuc2V0dGluZ3MubWVyZ2U9ITEpfSxlLnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMudHJpZ2dlcihcInByZXBhcmVcIix7Y29udGVudDpifSk7cmV0dXJuIGMuZGF0YXx8KGMuZGF0YT1hKFwiPFwiK3RoaXMuc2V0dGluZ3MuaXRlbUVsZW1lbnQrXCIvPlwiKS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLml0ZW1DbGFzcykuYXBwZW5kKGIpKSx0aGlzLnRyaWdnZXIoXCJwcmVwYXJlZFwiLHtjb250ZW50OmMuZGF0YX0pLGMuZGF0YX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7Zm9yKHZhciBiPTAsYz10aGlzLl9waXBlLmxlbmd0aCxkPWEucHJveHkoZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXNbYV19LHRoaXMuX2ludmFsaWRhdGVkKSxlPXt9O2M+YjspKHRoaXMuX2ludmFsaWRhdGVkLmFsbHx8YS5ncmVwKHRoaXMuX3BpcGVbYl0uZmlsdGVyLGQpLmxlbmd0aD4wKSYmdGhpcy5fcGlwZVtiXS5ydW4oZSksYisrO3RoaXMuX2ludmFsaWRhdGVkPXt9fSxlLnByb3RvdHlwZS53aWR0aD1mdW5jdGlvbihhKXtzd2l0Y2goYT1hfHxlLldpZHRoLkRlZmF1bHQpe2Nhc2UgZS5XaWR0aC5Jbm5lcjpjYXNlIGUuV2lkdGguT3V0ZXI6cmV0dXJuIHRoaXMuX3dpZHRoO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX3dpZHRoLTIqdGhpcy5zZXR0aW5ncy5zdGFnZVBhZGRpbmcrdGhpcy5zZXR0aW5ncy5tYXJnaW59fSxlLnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKCl7aWYoMD09PXRoaXMuX2l0ZW1zLmxlbmd0aClyZXR1cm4hMTsobmV3IERhdGUpLmdldFRpbWUoKTt0aGlzLnRyaWdnZXIoXCJyZWZyZXNoXCIpLHRoaXMuc2V0dXAoKSx0aGlzLm9wdGlvbnNMb2dpYygpLHRoaXMuJHN0YWdlLmFkZENsYXNzKFwib3dsLXJlZnJlc2hcIiksdGhpcy51cGRhdGUoKSx0aGlzLiRzdGFnZS5yZW1vdmVDbGFzcyhcIm93bC1yZWZyZXNoXCIpLHRoaXMuc3RhdGUub3JpZW50YXRpb249Yi5vcmllbnRhdGlvbix0aGlzLndhdGNoVmlzaWJpbGl0eSgpLHRoaXMudHJpZ2dlcihcInJlZnJlc2hlZFwiKX0sZS5wcm90b3R5cGUuZXZlbnRzQ2FsbD1mdW5jdGlvbigpe3RoaXMuZS5fb25EcmFnU3RhcnQ9YS5wcm94eShmdW5jdGlvbihhKXt0aGlzLm9uRHJhZ1N0YXJ0KGEpfSx0aGlzKSx0aGlzLmUuX29uRHJhZ01vdmU9YS5wcm94eShmdW5jdGlvbihhKXt0aGlzLm9uRHJhZ01vdmUoYSl9LHRoaXMpLHRoaXMuZS5fb25EcmFnRW5kPWEucHJveHkoZnVuY3Rpb24oYSl7dGhpcy5vbkRyYWdFbmQoYSl9LHRoaXMpLHRoaXMuZS5fb25SZXNpemU9YS5wcm94eShmdW5jdGlvbihhKXt0aGlzLm9uUmVzaXplKGEpfSx0aGlzKSx0aGlzLmUuX3RyYW5zaXRpb25FbmQ9YS5wcm94eShmdW5jdGlvbihhKXt0aGlzLnRyYW5zaXRpb25FbmQoYSl9LHRoaXMpLHRoaXMuZS5fcHJldmVudENsaWNrPWEucHJveHkoZnVuY3Rpb24oYSl7dGhpcy5wcmV2ZW50Q2xpY2soYSl9LHRoaXMpfSxlLnByb3RvdHlwZS5vblRocm90dGxlZFJlc2l6ZT1mdW5jdGlvbigpe2IuY2xlYXJUaW1lb3V0KHRoaXMucmVzaXplVGltZXIpLHRoaXMucmVzaXplVGltZXI9Yi5zZXRUaW1lb3V0KHRoaXMuZS5fb25SZXNpemUsdGhpcy5zZXR0aW5ncy5yZXNwb25zaXZlUmVmcmVzaFJhdGUpfSxlLnByb3RvdHlwZS5vblJlc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pdGVtcy5sZW5ndGg/dGhpcy5fd2lkdGg9PT10aGlzLiRlbGVtZW50LndpZHRoKCk/ITE6dGhpcy50cmlnZ2VyKFwicmVzaXplXCIpLmlzRGVmYXVsdFByZXZlbnRlZCgpPyExOih0aGlzLl93aWR0aD10aGlzLiRlbGVtZW50LndpZHRoKCksdGhpcy5pbnZhbGlkYXRlKFwid2lkdGhcIiksdGhpcy5yZWZyZXNoKCksdm9pZCB0aGlzLnRyaWdnZXIoXCJyZXNpemVkXCIpKTohMX0sZS5wcm90b3R5cGUuZXZlbnRzUm91dGVyPWZ1bmN0aW9uKGEpe3ZhciBiPWEudHlwZTtcIm1vdXNlZG93blwiPT09Ynx8XCJ0b3VjaHN0YXJ0XCI9PT1iP3RoaXMub25EcmFnU3RhcnQoYSk6XCJtb3VzZW1vdmVcIj09PWJ8fFwidG91Y2htb3ZlXCI9PT1iP3RoaXMub25EcmFnTW92ZShhKTpcIm1vdXNldXBcIj09PWJ8fFwidG91Y2hlbmRcIj09PWI/dGhpcy5vbkRyYWdFbmQoYSk6XCJ0b3VjaGNhbmNlbFwiPT09YiYmdGhpcy5vbkRyYWdFbmQoYSl9LGUucHJvdG90eXBlLmludGVybmFsRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGM9KGsoKSxsKCkpO3RoaXMuc2V0dGluZ3MubW91c2VEcmFnPyh0aGlzLiRzdGFnZS5vbihcIm1vdXNlZG93blwiLGEucHJveHkoZnVuY3Rpb24oYSl7dGhpcy5ldmVudHNSb3V0ZXIoYSl9LHRoaXMpKSx0aGlzLiRzdGFnZS5vbihcImRyYWdzdGFydFwiLGZ1bmN0aW9uKCl7cmV0dXJuITF9KSx0aGlzLiRzdGFnZS5nZXQoMCkub25zZWxlY3RzdGFydD1mdW5jdGlvbigpe3JldHVybiExfSk6dGhpcy4kZWxlbWVudC5hZGRDbGFzcyhcIm93bC10ZXh0LXNlbGVjdC1vblwiKSx0aGlzLnNldHRpbmdzLnRvdWNoRHJhZyYmIWMmJnRoaXMuJHN0YWdlLm9uKFwidG91Y2hzdGFydCB0b3VjaGNhbmNlbFwiLGEucHJveHkoZnVuY3Rpb24oYSl7dGhpcy5ldmVudHNSb3V0ZXIoYSl9LHRoaXMpKSx0aGlzLnRyYW5zaXRpb25FbmRWZW5kb3ImJnRoaXMub24odGhpcy4kc3RhZ2UuZ2V0KDApLHRoaXMudHJhbnNpdGlvbkVuZFZlbmRvcix0aGlzLmUuX3RyYW5zaXRpb25FbmQsITEpLHRoaXMuc2V0dGluZ3MucmVzcG9uc2l2ZSE9PSExJiZ0aGlzLm9uKGIsXCJyZXNpemVcIixhLnByb3h5KHRoaXMub25UaHJvdHRsZWRSZXNpemUsdGhpcykpfSxlLnByb3RvdHlwZS5vbkRyYWdTdGFydD1mdW5jdGlvbihkKXt2YXIgZSxnLGgsaTtpZihlPWQub3JpZ2luYWxFdmVudHx8ZHx8Yi5ldmVudCwzPT09ZS53aGljaHx8dGhpcy5zdGF0ZS5pc1RvdWNoKXJldHVybiExO2lmKFwibW91c2Vkb3duXCI9PT1lLnR5cGUmJnRoaXMuJHN0YWdlLmFkZENsYXNzKFwib3dsLWdyYWJcIiksdGhpcy50cmlnZ2VyKFwiZHJhZ1wiKSx0aGlzLmRyYWcuc3RhcnRUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMuc3BlZWQoMCksdGhpcy5zdGF0ZS5pc1RvdWNoPSEwLHRoaXMuc3RhdGUuaXNTY3JvbGxpbmc9ITEsdGhpcy5zdGF0ZS5pc1N3aXBpbmc9ITEsdGhpcy5kcmFnLmRpc3RhbmNlPTAsZz1mKGUpLngsaD1mKGUpLnksdGhpcy5kcmFnLm9mZnNldFg9dGhpcy4kc3RhZ2UucG9zaXRpb24oKS5sZWZ0LHRoaXMuZHJhZy5vZmZzZXRZPXRoaXMuJHN0YWdlLnBvc2l0aW9uKCkudG9wLHRoaXMuc2V0dGluZ3MucnRsJiYodGhpcy5kcmFnLm9mZnNldFg9dGhpcy4kc3RhZ2UucG9zaXRpb24oKS5sZWZ0K3RoaXMuJHN0YWdlLndpZHRoKCktdGhpcy53aWR0aCgpK3RoaXMuc2V0dGluZ3MubWFyZ2luKSx0aGlzLnN0YXRlLmluTW90aW9uJiZ0aGlzLnN1cHBvcnQzZClpPXRoaXMuZ2V0VHJhbnNmb3JtUHJvcGVydHkoKSx0aGlzLmRyYWcub2Zmc2V0WD1pLHRoaXMuYW5pbWF0ZShpKSx0aGlzLnN0YXRlLmluTW90aW9uPSEwO2Vsc2UgaWYodGhpcy5zdGF0ZS5pbk1vdGlvbiYmIXRoaXMuc3VwcG9ydDNkKXJldHVybiB0aGlzLnN0YXRlLmluTW90aW9uPSExLCExO3RoaXMuZHJhZy5zdGFydFg9Zy10aGlzLmRyYWcub2Zmc2V0WCx0aGlzLmRyYWcuc3RhcnRZPWgtdGhpcy5kcmFnLm9mZnNldFksdGhpcy5kcmFnLnN0YXJ0PWctdGhpcy5kcmFnLnN0YXJ0WCx0aGlzLmRyYWcudGFyZ2V0RWw9ZS50YXJnZXR8fGUuc3JjRWxlbWVudCx0aGlzLmRyYWcudXBkYXRlZFg9dGhpcy5kcmFnLnN0YXJ0LChcIklNR1wiPT09dGhpcy5kcmFnLnRhcmdldEVsLnRhZ05hbWV8fFwiQVwiPT09dGhpcy5kcmFnLnRhcmdldEVsLnRhZ05hbWUpJiYodGhpcy5kcmFnLnRhcmdldEVsLmRyYWdnYWJsZT0hMSksYShjKS5vbihcIm1vdXNlbW92ZS5vd2wuZHJhZ0V2ZW50cyBtb3VzZXVwLm93bC5kcmFnRXZlbnRzIHRvdWNobW92ZS5vd2wuZHJhZ0V2ZW50cyB0b3VjaGVuZC5vd2wuZHJhZ0V2ZW50c1wiLGEucHJveHkoZnVuY3Rpb24oYSl7dGhpcy5ldmVudHNSb3V0ZXIoYSl9LHRoaXMpKX0sZS5wcm90b3R5cGUub25EcmFnTW92ZT1mdW5jdGlvbihhKXt2YXIgYyxlLGcsaCxpLGo7dGhpcy5zdGF0ZS5pc1RvdWNoJiYodGhpcy5zdGF0ZS5pc1Njcm9sbGluZ3x8KGM9YS5vcmlnaW5hbEV2ZW50fHxhfHxiLmV2ZW50LGU9ZihjKS54LGc9ZihjKS55LHRoaXMuZHJhZy5jdXJyZW50WD1lLXRoaXMuZHJhZy5zdGFydFgsdGhpcy5kcmFnLmN1cnJlbnRZPWctdGhpcy5kcmFnLnN0YXJ0WSx0aGlzLmRyYWcuZGlzdGFuY2U9dGhpcy5kcmFnLmN1cnJlbnRYLXRoaXMuZHJhZy5vZmZzZXRYLHRoaXMuZHJhZy5kaXN0YW5jZTwwP3RoaXMuc3RhdGUuZGlyZWN0aW9uPXRoaXMuc2V0dGluZ3MucnRsP1wicmlnaHRcIjpcImxlZnRcIjp0aGlzLmRyYWcuZGlzdGFuY2U+MCYmKHRoaXMuc3RhdGUuZGlyZWN0aW9uPXRoaXMuc2V0dGluZ3MucnRsP1wibGVmdFwiOlwicmlnaHRcIiksdGhpcy5zZXR0aW5ncy5sb29wP3RoaXMub3AodGhpcy5kcmFnLmN1cnJlbnRYLFwiPlwiLHRoaXMuY29vcmRpbmF0ZXModGhpcy5taW5pbXVtKCkpKSYmXCJyaWdodFwiPT09dGhpcy5zdGF0ZS5kaXJlY3Rpb24/dGhpcy5kcmFnLmN1cnJlbnRYLT0odGhpcy5zZXR0aW5ncy5jZW50ZXImJnRoaXMuY29vcmRpbmF0ZXMoMCkpLXRoaXMuY29vcmRpbmF0ZXModGhpcy5faXRlbXMubGVuZ3RoKTp0aGlzLm9wKHRoaXMuZHJhZy5jdXJyZW50WCxcIjxcIix0aGlzLmNvb3JkaW5hdGVzKHRoaXMubWF4aW11bSgpKSkmJlwibGVmdFwiPT09dGhpcy5zdGF0ZS5kaXJlY3Rpb24mJih0aGlzLmRyYWcuY3VycmVudFgrPSh0aGlzLnNldHRpbmdzLmNlbnRlciYmdGhpcy5jb29yZGluYXRlcygwKSktdGhpcy5jb29yZGluYXRlcyh0aGlzLl9pdGVtcy5sZW5ndGgpKTooaD10aGlzLmNvb3JkaW5hdGVzKHRoaXMuc2V0dGluZ3MucnRsP3RoaXMubWF4aW11bSgpOnRoaXMubWluaW11bSgpKSxpPXRoaXMuY29vcmRpbmF0ZXModGhpcy5zZXR0aW5ncy5ydGw/dGhpcy5taW5pbXVtKCk6dGhpcy5tYXhpbXVtKCkpLGo9dGhpcy5zZXR0aW5ncy5wdWxsRHJhZz90aGlzLmRyYWcuZGlzdGFuY2UvNTowLHRoaXMuZHJhZy5jdXJyZW50WD1NYXRoLm1heChNYXRoLm1pbih0aGlzLmRyYWcuY3VycmVudFgsaCtqKSxpK2opKSwodGhpcy5kcmFnLmRpc3RhbmNlPjh8fHRoaXMuZHJhZy5kaXN0YW5jZTwtOCkmJihjLnByZXZlbnREZWZhdWx0IT09ZD9jLnByZXZlbnREZWZhdWx0KCk6Yy5yZXR1cm5WYWx1ZT0hMSx0aGlzLnN0YXRlLmlzU3dpcGluZz0hMCksdGhpcy5kcmFnLnVwZGF0ZWRYPXRoaXMuZHJhZy5jdXJyZW50WCwodGhpcy5kcmFnLmN1cnJlbnRZPjE2fHx0aGlzLmRyYWcuY3VycmVudFk8LTE2KSYmdGhpcy5zdGF0ZS5pc1N3aXBpbmc9PT0hMSYmKHRoaXMuc3RhdGUuaXNTY3JvbGxpbmc9ITAsdGhpcy5kcmFnLnVwZGF0ZWRYPXRoaXMuZHJhZy5zdGFydCksdGhpcy5hbmltYXRlKHRoaXMuZHJhZy51cGRhdGVkWCkpKX0sZS5wcm90b3R5cGUub25EcmFnRW5kPWZ1bmN0aW9uKGIpe3ZhciBkLGUsZjtpZih0aGlzLnN0YXRlLmlzVG91Y2gpe2lmKFwibW91c2V1cFwiPT09Yi50eXBlJiZ0aGlzLiRzdGFnZS5yZW1vdmVDbGFzcyhcIm93bC1ncmFiXCIpLHRoaXMudHJpZ2dlcihcImRyYWdnZWRcIiksdGhpcy5kcmFnLnRhcmdldEVsLnJlbW92ZUF0dHJpYnV0ZShcImRyYWdnYWJsZVwiKSx0aGlzLnN0YXRlLmlzVG91Y2g9ITEsdGhpcy5zdGF0ZS5pc1Njcm9sbGluZz0hMSx0aGlzLnN0YXRlLmlzU3dpcGluZz0hMSwwPT09dGhpcy5kcmFnLmRpc3RhbmNlJiZ0aGlzLnN0YXRlLmluTW90aW9uIT09ITApcmV0dXJuIHRoaXMuc3RhdGUuaW5Nb3Rpb249ITEsITE7dGhpcy5kcmFnLmVuZFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksZD10aGlzLmRyYWcuZW5kVGltZS10aGlzLmRyYWcuc3RhcnRUaW1lLGU9TWF0aC5hYnModGhpcy5kcmFnLmRpc3RhbmNlKSwoZT4zfHxkPjMwMCkmJnRoaXMucmVtb3ZlQ2xpY2sodGhpcy5kcmFnLnRhcmdldEVsKSxmPXRoaXMuY2xvc2VzdCh0aGlzLmRyYWcudXBkYXRlZFgpLHRoaXMuc3BlZWQodGhpcy5zZXR0aW5ncy5kcmFnRW5kU3BlZWR8fHRoaXMuc2V0dGluZ3Muc21hcnRTcGVlZCksdGhpcy5jdXJyZW50KGYpLHRoaXMuaW52YWxpZGF0ZShcInBvc2l0aW9uXCIpLHRoaXMudXBkYXRlKCksdGhpcy5zZXR0aW5ncy5wdWxsRHJhZ3x8dGhpcy5kcmFnLnVwZGF0ZWRYIT09dGhpcy5jb29yZGluYXRlcyhmKXx8dGhpcy50cmFuc2l0aW9uRW5kKCksdGhpcy5kcmFnLmRpc3RhbmNlPTAsYShjKS5vZmYoXCIub3dsLmRyYWdFdmVudHNcIil9fSxlLnByb3RvdHlwZS5yZW1vdmVDbGljaz1mdW5jdGlvbihjKXt0aGlzLmRyYWcudGFyZ2V0RWw9YyxhKGMpLm9uKFwiY2xpY2sucHJldmVudENsaWNrXCIsdGhpcy5lLl9wcmV2ZW50Q2xpY2spLGIuc2V0VGltZW91dChmdW5jdGlvbigpe2EoYykub2ZmKFwiY2xpY2sucHJldmVudENsaWNrXCIpfSwzMDApfSxlLnByb3RvdHlwZS5wcmV2ZW50Q2xpY2s9ZnVuY3Rpb24oYil7Yi5wcmV2ZW50RGVmYXVsdD9iLnByZXZlbnREZWZhdWx0KCk6Yi5yZXR1cm5WYWx1ZT0hMSxiLnN0b3BQcm9wYWdhdGlvbiYmYi5zdG9wUHJvcGFnYXRpb24oKSxhKGIudGFyZ2V0KS5vZmYoXCJjbGljay5wcmV2ZW50Q2xpY2tcIil9LGUucHJvdG90eXBlLmdldFRyYW5zZm9ybVByb3BlcnR5PWZ1bmN0aW9uKCl7dmFyIGEsYztyZXR1cm4gYT1iLmdldENvbXB1dGVkU3R5bGUodGhpcy4kc3RhZ2UuZ2V0KDApLG51bGwpLmdldFByb3BlcnR5VmFsdWUodGhpcy52ZW5kb3JOYW1lK1widHJhbnNmb3JtXCIpLGE9YS5yZXBsYWNlKC9tYXRyaXgoM2QpP1xcKHxcXCkvZyxcIlwiKS5zcGxpdChcIixcIiksYz0xNj09PWEubGVuZ3RoLGMhPT0hMD9hWzRdOmFbMTJdfSxlLnByb3RvdHlwZS5jbG9zZXN0PWZ1bmN0aW9uKGIpe3ZhciBjPS0xLGQ9MzAsZT10aGlzLndpZHRoKCksZj10aGlzLmNvb3JkaW5hdGVzKCk7cmV0dXJuIHRoaXMuc2V0dGluZ3MuZnJlZURyYWd8fGEuZWFjaChmLGEucHJveHkoZnVuY3Rpb24oYSxnKXtyZXR1cm4gYj5nLWQmJmcrZD5iP2M9YTp0aGlzLm9wKGIsXCI8XCIsZykmJnRoaXMub3AoYixcIj5cIixmW2ErMV18fGctZSkmJihjPVwibGVmdFwiPT09dGhpcy5zdGF0ZS5kaXJlY3Rpb24/YSsxOmEpLC0xPT09Y30sdGhpcykpLHRoaXMuc2V0dGluZ3MubG9vcHx8KHRoaXMub3AoYixcIj5cIixmW3RoaXMubWluaW11bSgpXSk/Yz1iPXRoaXMubWluaW11bSgpOnRoaXMub3AoYixcIjxcIixmW3RoaXMubWF4aW11bSgpXSkmJihjPWI9dGhpcy5tYXhpbXVtKCkpKSxjfSxlLnByb3RvdHlwZS5hbmltYXRlPWZ1bmN0aW9uKGIpe3RoaXMudHJpZ2dlcihcInRyYW5zbGF0ZVwiKSx0aGlzLnN0YXRlLmluTW90aW9uPXRoaXMuc3BlZWQoKT4wLHRoaXMuc3VwcG9ydDNkP3RoaXMuJHN0YWdlLmNzcyh7dHJhbnNmb3JtOlwidHJhbnNsYXRlM2QoXCIrYitcInB4LDBweCwgMHB4KVwiLHRyYW5zaXRpb246dGhpcy5zcGVlZCgpLzFlMytcInNcIn0pOnRoaXMuc3RhdGUuaXNUb3VjaD90aGlzLiRzdGFnZS5jc3Moe2xlZnQ6YitcInB4XCJ9KTp0aGlzLiRzdGFnZS5hbmltYXRlKHtsZWZ0OmJ9LHRoaXMuc3BlZWQoKS8xZTMsdGhpcy5zZXR0aW5ncy5mYWxsYmFja0Vhc2luZyxhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5zdGF0ZS5pbk1vdGlvbiYmdGhpcy50cmFuc2l0aW9uRW5kKCl9LHRoaXMpKX0sZS5wcm90b3R5cGUuY3VycmVudD1mdW5jdGlvbihhKXtpZihhPT09ZClyZXR1cm4gdGhpcy5fY3VycmVudDtpZigwPT09dGhpcy5faXRlbXMubGVuZ3RoKXJldHVybiBkO2lmKGE9dGhpcy5ub3JtYWxpemUoYSksdGhpcy5fY3VycmVudCE9PWEpe3ZhciBiPXRoaXMudHJpZ2dlcihcImNoYW5nZVwiLHtwcm9wZXJ0eTp7bmFtZTpcInBvc2l0aW9uXCIsdmFsdWU6YX19KTtiLmRhdGEhPT1kJiYoYT10aGlzLm5vcm1hbGl6ZShiLmRhdGEpKSx0aGlzLl9jdXJyZW50PWEsdGhpcy5pbnZhbGlkYXRlKFwicG9zaXRpb25cIiksdGhpcy50cmlnZ2VyKFwiY2hhbmdlZFwiLHtwcm9wZXJ0eTp7bmFtZTpcInBvc2l0aW9uXCIsdmFsdWU6dGhpcy5fY3VycmVudH19KX1yZXR1cm4gdGhpcy5fY3VycmVudH0sZS5wcm90b3R5cGUuaW52YWxpZGF0ZT1mdW5jdGlvbihhKXt0aGlzLl9pbnZhbGlkYXRlZFthXT0hMH0sZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oYSl7YT10aGlzLm5vcm1hbGl6ZShhKSxhIT09ZCYmKHRoaXMuX3NwZWVkPTAsdGhpcy5fY3VycmVudD1hLHRoaXMuc3VwcHJlc3MoW1widHJhbnNsYXRlXCIsXCJ0cmFuc2xhdGVkXCJdKSx0aGlzLmFuaW1hdGUodGhpcy5jb29yZGluYXRlcyhhKSksdGhpcy5yZWxlYXNlKFtcInRyYW5zbGF0ZVwiLFwidHJhbnNsYXRlZFwiXSkpfSxlLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24oYixjKXt2YXIgZT1jP3RoaXMuX2l0ZW1zLmxlbmd0aDp0aGlzLl9pdGVtcy5sZW5ndGgrdGhpcy5fY2xvbmVzLmxlbmd0aDtyZXR1cm4hYS5pc051bWVyaWMoYil8fDE+ZT9kOmI9dGhpcy5fY2xvbmVzLmxlbmd0aD8oYiVlK2UpJWU6TWF0aC5tYXgodGhpcy5taW5pbXVtKGMpLE1hdGgubWluKHRoaXMubWF4aW11bShjKSxiKSl9LGUucHJvdG90eXBlLnJlbGF0aXZlPWZ1bmN0aW9uKGEpe3JldHVybiBhPXRoaXMubm9ybWFsaXplKGEpLGEtPXRoaXMuX2Nsb25lcy5sZW5ndGgvMix0aGlzLm5vcm1hbGl6ZShhLCEwKX0sZS5wcm90b3R5cGUubWF4aW11bT1mdW5jdGlvbihhKXt2YXIgYixjLGQsZT0wLGY9dGhpcy5zZXR0aW5ncztpZihhKXJldHVybiB0aGlzLl9pdGVtcy5sZW5ndGgtMTtpZighZi5sb29wJiZmLmNlbnRlciliPXRoaXMuX2l0ZW1zLmxlbmd0aC0xO2Vsc2UgaWYoZi5sb29wfHxmLmNlbnRlcilpZihmLmxvb3B8fGYuY2VudGVyKWI9dGhpcy5faXRlbXMubGVuZ3RoK2YuaXRlbXM7ZWxzZXtpZighZi5hdXRvV2lkdGgmJiFmLm1lcmdlKXRocm93XCJDYW4gbm90IGRldGVjdCBtYXhpbXVtIGFic29sdXRlIHBvc2l0aW9uLlwiO2ZvcihyZXZlcnQ9Zi5ydGw/MTotMSxjPXRoaXMuJHN0YWdlLndpZHRoKCktdGhpcy4kZWxlbWVudC53aWR0aCgpOyhkPXRoaXMuY29vcmRpbmF0ZXMoZSkpJiYhKGQqcmV2ZXJ0Pj1jKTspYj0rK2V9ZWxzZSBiPXRoaXMuX2l0ZW1zLmxlbmd0aC1mLml0ZW1zO3JldHVybiBifSxlLnByb3RvdHlwZS5taW5pbXVtPWZ1bmN0aW9uKGEpe3JldHVybiBhPzA6dGhpcy5fY2xvbmVzLmxlbmd0aC8yfSxlLnByb3RvdHlwZS5pdGVtcz1mdW5jdGlvbihhKXtyZXR1cm4gYT09PWQ/dGhpcy5faXRlbXMuc2xpY2UoKTooYT10aGlzLm5vcm1hbGl6ZShhLCEwKSx0aGlzLl9pdGVtc1thXSl9LGUucHJvdG90eXBlLm1lcmdlcnM9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1kP3RoaXMuX21lcmdlcnMuc2xpY2UoKTooYT10aGlzLm5vcm1hbGl6ZShhLCEwKSx0aGlzLl9tZXJnZXJzW2FdKX0sZS5wcm90b3R5cGUuY2xvbmVzPWZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuX2Nsb25lcy5sZW5ndGgvMixlPWMrdGhpcy5faXRlbXMubGVuZ3RoLGY9ZnVuY3Rpb24oYSl7cmV0dXJuIGElMj09PTA/ZSthLzI6Yy0oYSsxKS8yfTtyZXR1cm4gYj09PWQ/YS5tYXAodGhpcy5fY2xvbmVzLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGYoYil9KTphLm1hcCh0aGlzLl9jbG9uZXMsZnVuY3Rpb24oYSxjKXtyZXR1cm4gYT09PWI/ZihjKTpudWxsfSl9LGUucHJvdG90eXBlLnNwZWVkPWZ1bmN0aW9uKGEpe3JldHVybiBhIT09ZCYmKHRoaXMuX3NwZWVkPWEpLHRoaXMuX3NwZWVkfSxlLnByb3RvdHlwZS5jb29yZGluYXRlcz1mdW5jdGlvbihiKXt2YXIgYz1udWxsO3JldHVybiBiPT09ZD9hLm1hcCh0aGlzLl9jb29yZGluYXRlcyxhLnByb3h5KGZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuY29vcmRpbmF0ZXMoYil9LHRoaXMpKToodGhpcy5zZXR0aW5ncy5jZW50ZXI/KGM9dGhpcy5fY29vcmRpbmF0ZXNbYl0sYys9KHRoaXMud2lkdGgoKS1jKyh0aGlzLl9jb29yZGluYXRlc1tiLTFdfHwwKSkvMioodGhpcy5zZXR0aW5ncy5ydGw/LTE6MSkpOmM9dGhpcy5fY29vcmRpbmF0ZXNbYi0xXXx8MCxjKX0sZS5wcm90b3R5cGUuZHVyYXRpb249ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBNYXRoLm1pbihNYXRoLm1heChNYXRoLmFicyhiLWEpLDEpLDYpKk1hdGguYWJzKGN8fHRoaXMuc2V0dGluZ3Muc21hcnRTcGVlZCl9LGUucHJvdG90eXBlLnRvPWZ1bmN0aW9uKGMsZCl7aWYodGhpcy5zZXR0aW5ncy5sb29wKXt2YXIgZT1jLXRoaXMucmVsYXRpdmUodGhpcy5jdXJyZW50KCkpLGY9dGhpcy5jdXJyZW50KCksZz10aGlzLmN1cnJlbnQoKSxoPXRoaXMuY3VycmVudCgpK2UsaT0wPmctaD8hMDohMSxqPXRoaXMuX2Nsb25lcy5sZW5ndGgrdGhpcy5faXRlbXMubGVuZ3RoO2g8dGhpcy5zZXR0aW5ncy5pdGVtcyYmaT09PSExPyhmPWcrdGhpcy5faXRlbXMubGVuZ3RoLHRoaXMucmVzZXQoZikpOmg+PWotdGhpcy5zZXR0aW5ncy5pdGVtcyYmaT09PSEwJiYoZj1nLXRoaXMuX2l0ZW1zLmxlbmd0aCx0aGlzLnJlc2V0KGYpKSxiLmNsZWFyVGltZW91dCh0aGlzLmUuX2dvVG9Mb29wKSx0aGlzLmUuX2dvVG9Mb29wPWIuc2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5zcGVlZCh0aGlzLmR1cmF0aW9uKHRoaXMuY3VycmVudCgpLGYrZSxkKSksdGhpcy5jdXJyZW50KGYrZSksdGhpcy51cGRhdGUoKX0sdGhpcyksMzApfWVsc2UgdGhpcy5zcGVlZCh0aGlzLmR1cmF0aW9uKHRoaXMuY3VycmVudCgpLGMsZCkpLHRoaXMuY3VycmVudChjKSx0aGlzLnVwZGF0ZSgpfSxlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKGEpe2E9YXx8ITEsdGhpcy50byh0aGlzLnJlbGF0aXZlKHRoaXMuY3VycmVudCgpKSsxLGEpfSxlLnByb3RvdHlwZS5wcmV2PWZ1bmN0aW9uKGEpe2E9YXx8ITEsdGhpcy50byh0aGlzLnJlbGF0aXZlKHRoaXMuY3VycmVudCgpKS0xLGEpfSxlLnByb3RvdHlwZS50cmFuc2l0aW9uRW5kPWZ1bmN0aW9uKGEpe3JldHVybiBhIT09ZCYmKGEuc3RvcFByb3BhZ2F0aW9uKCksKGEudGFyZ2V0fHxhLnNyY0VsZW1lbnR8fGEub3JpZ2luYWxUYXJnZXQpIT09dGhpcy4kc3RhZ2UuZ2V0KDApKT8hMToodGhpcy5zdGF0ZS5pbk1vdGlvbj0hMSx2b2lkIHRoaXMudHJpZ2dlcihcInRyYW5zbGF0ZWRcIikpfSxlLnByb3RvdHlwZS52aWV3cG9ydD1mdW5jdGlvbigpe3ZhciBkO2lmKHRoaXMub3B0aW9ucy5yZXNwb25zaXZlQmFzZUVsZW1lbnQhPT1iKWQ9YSh0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZUJhc2VFbGVtZW50KS53aWR0aCgpO2Vsc2UgaWYoYi5pbm5lcldpZHRoKWQ9Yi5pbm5lcldpZHRoO2Vsc2V7aWYoIWMuZG9jdW1lbnRFbGVtZW50fHwhYy5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpdGhyb3dcIkNhbiBub3QgZGV0ZWN0IHZpZXdwb3J0IHdpZHRoLlwiO2Q9Yy5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGh9cmV0dXJuIGR9LGUucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24oYil7dGhpcy4kc3RhZ2UuZW1wdHkoKSx0aGlzLl9pdGVtcz1bXSxiJiYoYj1iIGluc3RhbmNlb2YgalF1ZXJ5P2I6YShiKSksdGhpcy5zZXR0aW5ncy5uZXN0ZWRJdGVtU2VsZWN0b3ImJihiPWIuZmluZChcIi5cIit0aGlzLnNldHRpbmdzLm5lc3RlZEl0ZW1TZWxlY3RvcikpLGIuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIDE9PT10aGlzLm5vZGVUeXBlfSkuZWFjaChhLnByb3h5KGZ1bmN0aW9uKGEsYil7Yj10aGlzLnByZXBhcmUoYiksdGhpcy4kc3RhZ2UuYXBwZW5kKGIpLHRoaXMuX2l0ZW1zLnB1c2goYiksdGhpcy5fbWVyZ2Vycy5wdXNoKDEqYi5maW5kKFwiW2RhdGEtbWVyZ2VdXCIpLmFuZFNlbGYoXCJbZGF0YS1tZXJnZV1cIikuYXR0cihcImRhdGEtbWVyZ2VcIil8fDEpfSx0aGlzKSksdGhpcy5yZXNldChhLmlzTnVtZXJpYyh0aGlzLnNldHRpbmdzLnN0YXJ0UG9zaXRpb24pP3RoaXMuc2V0dGluZ3Muc3RhcnRQb3NpdGlvbjowKSx0aGlzLmludmFsaWRhdGUoXCJpdGVtc1wiKX0sZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGEsYil7Yj1iPT09ZD90aGlzLl9pdGVtcy5sZW5ndGg6dGhpcy5ub3JtYWxpemUoYiwhMCksdGhpcy50cmlnZ2VyKFwiYWRkXCIse2NvbnRlbnQ6YSxwb3NpdGlvbjpifSksMD09PXRoaXMuX2l0ZW1zLmxlbmd0aHx8Yj09PXRoaXMuX2l0ZW1zLmxlbmd0aD8odGhpcy4kc3RhZ2UuYXBwZW5kKGEpLHRoaXMuX2l0ZW1zLnB1c2goYSksdGhpcy5fbWVyZ2Vycy5wdXNoKDEqYS5maW5kKFwiW2RhdGEtbWVyZ2VdXCIpLmFuZFNlbGYoXCJbZGF0YS1tZXJnZV1cIikuYXR0cihcImRhdGEtbWVyZ2VcIil8fDEpKToodGhpcy5faXRlbXNbYl0uYmVmb3JlKGEpLHRoaXMuX2l0ZW1zLnNwbGljZShiLDAsYSksdGhpcy5fbWVyZ2Vycy5zcGxpY2UoYiwwLDEqYS5maW5kKFwiW2RhdGEtbWVyZ2VdXCIpLmFuZFNlbGYoXCJbZGF0YS1tZXJnZV1cIikuYXR0cihcImRhdGEtbWVyZ2VcIil8fDEpKSx0aGlzLmludmFsaWRhdGUoXCJpdGVtc1wiKSx0aGlzLnRyaWdnZXIoXCJhZGRlZFwiLHtjb250ZW50OmEscG9zaXRpb246Yn0pfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSl7YT10aGlzLm5vcm1hbGl6ZShhLCEwKSxhIT09ZCYmKHRoaXMudHJpZ2dlcihcInJlbW92ZVwiLHtjb250ZW50OnRoaXMuX2l0ZW1zW2FdLHBvc2l0aW9uOmF9KSx0aGlzLl9pdGVtc1thXS5yZW1vdmUoKSx0aGlzLl9pdGVtcy5zcGxpY2UoYSwxKSx0aGlzLl9tZXJnZXJzLnNwbGljZShhLDEpLHRoaXMuaW52YWxpZGF0ZShcIml0ZW1zXCIpLHRoaXMudHJpZ2dlcihcInJlbW92ZWRcIix7Y29udGVudDpudWxsLHBvc2l0aW9uOmF9KSl9LGUucHJvdG90eXBlLmFkZFRyaWdnZXJhYmxlRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGI9YS5wcm94eShmdW5jdGlvbihiLGMpe3JldHVybiBhLnByb3h5KGZ1bmN0aW9uKGEpe2EucmVsYXRlZFRhcmdldCE9PXRoaXMmJih0aGlzLnN1cHByZXNzKFtjXSksYi5hcHBseSh0aGlzLFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKSx0aGlzLnJlbGVhc2UoW2NdKSl9LHRoaXMpfSx0aGlzKTthLmVhY2goe25leHQ6dGhpcy5uZXh0LHByZXY6dGhpcy5wcmV2LHRvOnRoaXMudG8sZGVzdHJveTp0aGlzLmRlc3Ryb3kscmVmcmVzaDp0aGlzLnJlZnJlc2gscmVwbGFjZTp0aGlzLnJlcGxhY2UsYWRkOnRoaXMuYWRkLHJlbW92ZTp0aGlzLnJlbW92ZX0sYS5wcm94eShmdW5jdGlvbihhLGMpe3RoaXMuJGVsZW1lbnQub24oYStcIi5vd2wuY2Fyb3VzZWxcIixiKGMsYStcIi5vd2wuY2Fyb3VzZWxcIikpfSx0aGlzKSl9LGUucHJvdG90eXBlLndhdGNoVmlzaWJpbGl0eT1mdW5jdGlvbigpe2Z1bmN0aW9uIGMoYSl7cmV0dXJuIGEub2Zmc2V0V2lkdGg+MCYmYS5vZmZzZXRIZWlnaHQ+MH1mdW5jdGlvbiBkKCl7Yyh0aGlzLiRlbGVtZW50LmdldCgwKSkmJih0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwib3dsLWhpZGRlblwiKSx0aGlzLnJlZnJlc2goKSxiLmNsZWFySW50ZXJ2YWwodGhpcy5lLl9jaGVja1Zpc2liaWxlKSl9Yyh0aGlzLiRlbGVtZW50LmdldCgwKSl8fCh0aGlzLiRlbGVtZW50LmFkZENsYXNzKFwib3dsLWhpZGRlblwiKSxiLmNsZWFySW50ZXJ2YWwodGhpcy5lLl9jaGVja1Zpc2liaWxlKSx0aGlzLmUuX2NoZWNrVmlzaWJpbGU9Yi5zZXRJbnRlcnZhbChhLnByb3h5KGQsdGhpcyksNTAwKSl9LGUucHJvdG90eXBlLnByZWxvYWRBdXRvV2lkdGhJbWFnZXM9ZnVuY3Rpb24oYil7dmFyIGMsZCxlLGY7Yz0wLGQ9dGhpcyxiLmVhY2goZnVuY3Rpb24oZyxoKXtlPWEoaCksZj1uZXcgSW1hZ2UsZi5vbmxvYWQ9ZnVuY3Rpb24oKXtjKyssZS5hdHRyKFwic3JjXCIsZi5zcmMpLGUuY3NzKFwib3BhY2l0eVwiLDEpLGM+PWIubGVuZ3RoJiYoZC5zdGF0ZS5pbWFnZXNMb2FkZWQ9ITAsZC5pbml0aWFsaXplKCkpfSxmLnNyYz1lLmF0dHIoXCJzcmNcIil8fGUuYXR0cihcImRhdGEtc3JjXCIpfHxlLmF0dHIoXCJkYXRhLXNyYy1yZXRpbmFcIil9KX0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQuaGFzQ2xhc3ModGhpcy5zZXR0aW5ncy50aGVtZUNsYXNzKSYmdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLnRoZW1lQ2xhc3MpLHRoaXMuc2V0dGluZ3MucmVzcG9uc2l2ZSE9PSExJiZhKGIpLm9mZihcInJlc2l6ZS5vd2wuY2Fyb3VzZWxcIiksdGhpcy50cmFuc2l0aW9uRW5kVmVuZG9yJiZ0aGlzLm9mZih0aGlzLiRzdGFnZS5nZXQoMCksdGhpcy50cmFuc2l0aW9uRW5kVmVuZG9yLHRoaXMuZS5fdHJhbnNpdGlvbkVuZCk7Zm9yKHZhciBkIGluIHRoaXMuX3BsdWdpbnMpdGhpcy5fcGx1Z2luc1tkXS5kZXN0cm95KCk7KHRoaXMuc2V0dGluZ3MubW91c2VEcmFnfHx0aGlzLnNldHRpbmdzLnRvdWNoRHJhZykmJih0aGlzLiRzdGFnZS5vZmYoXCJtb3VzZWRvd24gdG91Y2hzdGFydCB0b3VjaGNhbmNlbFwiKSxhKGMpLm9mZihcIi5vd2wuZHJhZ0V2ZW50c1wiKSx0aGlzLiRzdGFnZS5nZXQoMCkub25zZWxlY3RzdGFydD1mdW5jdGlvbigpe30sdGhpcy4kc3RhZ2Uub2ZmKFwiZHJhZ3N0YXJ0XCIsZnVuY3Rpb24oKXtyZXR1cm4hMX0pKSx0aGlzLiRlbGVtZW50Lm9mZihcIi5vd2xcIiksdGhpcy4kc3RhZ2UuY2hpbGRyZW4oXCIuY2xvbmVkXCIpLnJlbW92ZSgpLHRoaXMuZT1udWxsLHRoaXMuJGVsZW1lbnQucmVtb3ZlRGF0YShcIm93bENhcm91c2VsXCIpLHRoaXMuJHN0YWdlLmNoaWxkcmVuKCkuY29udGVudHMoKS51bndyYXAoKSx0aGlzLiRzdGFnZS5jaGlsZHJlbigpLnVud3JhcCgpLHRoaXMuJHN0YWdlLnVud3JhcCgpfSxlLnByb3RvdHlwZS5vcD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5zZXR0aW5ncy5ydGw7c3dpdGNoKGIpe2Nhc2VcIjxcIjpyZXR1cm4gZD9hPmM6Yz5hO2Nhc2VcIj5cIjpyZXR1cm4gZD9jPmE6YT5jO2Nhc2VcIj49XCI6cmV0dXJuIGQ/Yz49YTphPj1jO2Nhc2VcIjw9XCI6cmV0dXJuIGQ/YT49YzpjPj1hfX0sZS5wcm90b3R5cGUub249ZnVuY3Rpb24oYSxiLGMsZCl7YS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihiLGMsZCk6YS5hdHRhY2hFdmVudCYmYS5hdHRhY2hFdmVudChcIm9uXCIrYixjKX0sZS5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKGEsYixjLGQpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lcj9hLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixjLGQpOmEuZGV0YWNoRXZlbnQmJmEuZGV0YWNoRXZlbnQoXCJvblwiK2IsYyl9LGUucHJvdG90eXBlLnRyaWdnZXI9ZnVuY3Rpb24oYixjLGQpe3ZhciBlPXtpdGVtOntjb3VudDp0aGlzLl9pdGVtcy5sZW5ndGgsaW5kZXg6dGhpcy5jdXJyZW50KCl9fSxmPWEuY2FtZWxDYXNlKGEuZ3JlcChbXCJvblwiLGIsZF0sZnVuY3Rpb24oYSl7cmV0dXJuIGF9KS5qb2luKFwiLVwiKS50b0xvd2VyQ2FzZSgpKSxnPWEuRXZlbnQoW2IsXCJvd2xcIixkfHxcImNhcm91c2VsXCJdLmpvaW4oXCIuXCIpLnRvTG93ZXJDYXNlKCksYS5leHRlbmQoe3JlbGF0ZWRUYXJnZXQ6dGhpc30sZSxjKSk7cmV0dXJuIHRoaXMuX3N1cHJlc3NbYl18fChhLmVhY2godGhpcy5fcGx1Z2lucyxmdW5jdGlvbihhLGIpe2Iub25UcmlnZ2VyJiZiLm9uVHJpZ2dlcihnKX0pLHRoaXMuJGVsZW1lbnQudHJpZ2dlcihnKSx0aGlzLnNldHRpbmdzJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLnNldHRpbmdzW2ZdJiZ0aGlzLnNldHRpbmdzW2ZdLmFwcGx5KHRoaXMsZykpLGd9LGUucHJvdG90eXBlLnN1cHByZXNzPWZ1bmN0aW9uKGIpe2EuZWFjaChiLGEucHJveHkoZnVuY3Rpb24oYSxiKXt0aGlzLl9zdXByZXNzW2JdPSEwfSx0aGlzKSl9LGUucHJvdG90eXBlLnJlbGVhc2U9ZnVuY3Rpb24oYil7YS5lYWNoKGIsYS5wcm94eShmdW5jdGlvbihhLGIpe2RlbGV0ZSB0aGlzLl9zdXByZXNzW2JdfSx0aGlzKSl9LGUucHJvdG90eXBlLmJyb3dzZXJTdXBwb3J0PWZ1bmN0aW9uKCl7aWYodGhpcy5zdXBwb3J0M2Q9aigpLHRoaXMuc3VwcG9ydDNkKXt0aGlzLnRyYW5zZm9ybVZlbmRvcj1pKCk7dmFyIGE9W1widHJhbnNpdGlvbmVuZFwiLFwid2Via2l0VHJhbnNpdGlvbkVuZFwiLFwidHJhbnNpdGlvbmVuZFwiLFwib1RyYW5zaXRpb25FbmRcIl07dGhpcy50cmFuc2l0aW9uRW5kVmVuZG9yPWFbaCgpXSx0aGlzLnZlbmRvck5hbWU9dGhpcy50cmFuc2Zvcm1WZW5kb3IucmVwbGFjZSgvVHJhbnNmb3JtL2ksXCJcIiksdGhpcy52ZW5kb3JOYW1lPVwiXCIhPT10aGlzLnZlbmRvck5hbWU/XCItXCIrdGhpcy52ZW5kb3JOYW1lLnRvTG93ZXJDYXNlKCkrXCItXCI6XCJcIn10aGlzLnN0YXRlLm9yaWVudGF0aW9uPWIub3JpZW50YXRpb259LGEuZm4ub3dsQ2Fyb3VzZWw9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2EodGhpcykuZGF0YShcIm93bENhcm91c2VsXCIpfHxhKHRoaXMpLmRhdGEoXCJvd2xDYXJvdXNlbFwiLG5ldyBlKHRoaXMsYikpfSl9LGEuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3I9ZX0od2luZG93LlplcHRvfHx3aW5kb3cualF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbihiKXt0aGlzLl9jb3JlPWIsdGhpcy5fbG9hZGVkPVtdLHRoaXMuX2hhbmRsZXJzPXtcImluaXRpYWxpemVkLm93bC5jYXJvdXNlbCBjaGFuZ2Uub3dsLmNhcm91c2VsXCI6YS5wcm94eShmdW5jdGlvbihiKXtpZihiLm5hbWVzcGFjZSYmdGhpcy5fY29yZS5zZXR0aW5ncyYmdGhpcy5fY29yZS5zZXR0aW5ncy5sYXp5TG9hZCYmKGIucHJvcGVydHkmJlwicG9zaXRpb25cIj09Yi5wcm9wZXJ0eS5uYW1lfHxcImluaXRpYWxpemVkXCI9PWIudHlwZSkpZm9yKHZhciBjPXRoaXMuX2NvcmUuc2V0dGluZ3MsZD1jLmNlbnRlciYmTWF0aC5jZWlsKGMuaXRlbXMvMil8fGMuaXRlbXMsZT1jLmNlbnRlciYmLTEqZHx8MCxmPShiLnByb3BlcnR5JiZiLnByb3BlcnR5LnZhbHVlfHx0aGlzLl9jb3JlLmN1cnJlbnQoKSkrZSxnPXRoaXMuX2NvcmUuY2xvbmVzKCkubGVuZ3RoLGg9YS5wcm94eShmdW5jdGlvbihhLGIpe3RoaXMubG9hZChiKX0sdGhpcyk7ZSsrPGQ7KXRoaXMubG9hZChnLzIrdGhpcy5fY29yZS5yZWxhdGl2ZShmKSksZyYmYS5lYWNoKHRoaXMuX2NvcmUuY2xvbmVzKHRoaXMuX2NvcmUucmVsYXRpdmUoZisrKSksaCl9LHRoaXMpfSx0aGlzLl9jb3JlLm9wdGlvbnM9YS5leHRlbmQoe30sYy5EZWZhdWx0cyx0aGlzLl9jb3JlLm9wdGlvbnMpLHRoaXMuX2NvcmUuJGVsZW1lbnQub24odGhpcy5faGFuZGxlcnMpfTtjLkRlZmF1bHRzPXtsYXp5TG9hZDohMX0sYy5wcm90b3R5cGUubG9hZD1mdW5jdGlvbihjKXt2YXIgZD10aGlzLl9jb3JlLiRzdGFnZS5jaGlsZHJlbigpLmVxKGMpLGU9ZCYmZC5maW5kKFwiLm93bC1sYXp5XCIpOyFlfHxhLmluQXJyYXkoZC5nZXQoMCksdGhpcy5fbG9hZGVkKT4tMXx8KGUuZWFjaChhLnByb3h5KGZ1bmN0aW9uKGMsZCl7dmFyIGUsZj1hKGQpLGc9Yi5kZXZpY2VQaXhlbFJhdGlvPjEmJmYuYXR0cihcImRhdGEtc3JjLXJldGluYVwiKXx8Zi5hdHRyKFwiZGF0YS1zcmNcIik7dGhpcy5fY29yZS50cmlnZ2VyKFwibG9hZFwiLHtlbGVtZW50OmYsdXJsOmd9LFwibGF6eVwiKSxmLmlzKFwiaW1nXCIpP2Yub25lKFwibG9hZC5vd2wubGF6eVwiLGEucHJveHkoZnVuY3Rpb24oKXtmLmNzcyhcIm9wYWNpdHlcIiwxKSx0aGlzLl9jb3JlLnRyaWdnZXIoXCJsb2FkZWRcIix7ZWxlbWVudDpmLHVybDpnfSxcImxhenlcIil9LHRoaXMpKS5hdHRyKFwic3JjXCIsZyk6KGU9bmV3IEltYWdlLGUub25sb2FkPWEucHJveHkoZnVuY3Rpb24oKXtmLmNzcyh7XCJiYWNrZ3JvdW5kLWltYWdlXCI6XCJ1cmwoXCIrZytcIilcIixvcGFjaXR5OlwiMVwifSksdGhpcy5fY29yZS50cmlnZ2VyKFwibG9hZGVkXCIse2VsZW1lbnQ6Zix1cmw6Z30sXCJsYXp5XCIpfSx0aGlzKSxlLnNyYz1nKX0sdGhpcykpLHRoaXMuX2xvYWRlZC5wdXNoKGQuZ2V0KDApKSl9LGMucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgYSxiO2ZvcihhIGluIHRoaXMuaGFuZGxlcnMpdGhpcy5fY29yZS4kZWxlbWVudC5vZmYoYSx0aGlzLmhhbmRsZXJzW2FdKTtmb3IoYiBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSlcImZ1bmN0aW9uXCIhPXR5cGVvZiB0aGlzW2JdJiYodGhpc1tiXT1udWxsKX0sYS5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLkxhenk9Y30od2luZG93LlplcHRvfHx3aW5kb3cualF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24oYSl7dmFyIGI9ZnVuY3Rpb24oYyl7dGhpcy5fY29yZT1jLHRoaXMuX2hhbmRsZXJzPXtcImluaXRpYWxpemVkLm93bC5jYXJvdXNlbFwiOmEucHJveHkoZnVuY3Rpb24oKXt0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9IZWlnaHQmJnRoaXMudXBkYXRlKCl9LHRoaXMpLFwiY2hhbmdlZC5vd2wuY2Fyb3VzZWxcIjphLnByb3h5KGZ1bmN0aW9uKGEpe3RoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b0hlaWdodCYmXCJwb3NpdGlvblwiPT1hLnByb3BlcnR5Lm5hbWUmJnRoaXMudXBkYXRlKCl9LHRoaXMpLFwibG9hZGVkLm93bC5sYXp5XCI6YS5wcm94eShmdW5jdGlvbihhKXt0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9IZWlnaHQmJmEuZWxlbWVudC5jbG9zZXN0KFwiLlwiK3RoaXMuX2NvcmUuc2V0dGluZ3MuaXRlbUNsYXNzKT09PXRoaXMuX2NvcmUuJHN0YWdlLmNoaWxkcmVuKCkuZXEodGhpcy5fY29yZS5jdXJyZW50KCkpJiZ0aGlzLnVwZGF0ZSgpfSx0aGlzKX0sdGhpcy5fY29yZS5vcHRpb25zPWEuZXh0ZW5kKHt9LGIuRGVmYXVsdHMsdGhpcy5fY29yZS5vcHRpb25zKSx0aGlzLl9jb3JlLiRlbGVtZW50Lm9uKHRoaXMuX2hhbmRsZXJzKX07Yi5EZWZhdWx0cz17YXV0b0hlaWdodDohMSxhdXRvSGVpZ2h0Q2xhc3M6XCJvd2wtaGVpZ2h0XCJ9LGIucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuX2NvcmUuJHN0YWdlLnBhcmVudCgpLmhlaWdodCh0aGlzLl9jb3JlLiRzdGFnZS5jaGlsZHJlbigpLmVxKHRoaXMuX2NvcmUuY3VycmVudCgpKS5oZWlnaHQoKSkuYWRkQ2xhc3ModGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvSGVpZ2h0Q2xhc3MpfSxiLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIGEsYjtmb3IoYSBpbiB0aGlzLl9oYW5kbGVycyl0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZihhLHRoaXMuX2hhbmRsZXJzW2FdKTtmb3IoYiBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSlcImZ1bmN0aW9uXCIhPXR5cGVvZiB0aGlzW2JdJiYodGhpc1tiXT1udWxsKX0sYS5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLkF1dG9IZWlnaHQ9Yn0od2luZG93LlplcHRvfHx3aW5kb3cualF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGIpe3RoaXMuX2NvcmU9Yix0aGlzLl92aWRlb3M9e30sdGhpcy5fcGxheWluZz1udWxsLHRoaXMuX2Z1bGxzY3JlZW49ITEsdGhpcy5faGFuZGxlcnM9e1wicmVzaXplLm93bC5jYXJvdXNlbFwiOmEucHJveHkoZnVuY3Rpb24oYSl7dGhpcy5fY29yZS5zZXR0aW5ncy52aWRlbyYmIXRoaXMuaXNJbkZ1bGxTY3JlZW4oKSYmYS5wcmV2ZW50RGVmYXVsdCgpfSx0aGlzKSxcInJlZnJlc2gub3dsLmNhcm91c2VsIGNoYW5nZWQub3dsLmNhcm91c2VsXCI6YS5wcm94eShmdW5jdGlvbigpe3RoaXMuX3BsYXlpbmcmJnRoaXMuc3RvcCgpfSx0aGlzKSxcInByZXBhcmVkLm93bC5jYXJvdXNlbFwiOmEucHJveHkoZnVuY3Rpb24oYil7dmFyIGM9YShiLmNvbnRlbnQpLmZpbmQoXCIub3dsLXZpZGVvXCIpO2MubGVuZ3RoJiYoYy5jc3MoXCJkaXNwbGF5XCIsXCJub25lXCIpLHRoaXMuZmV0Y2goYyxhKGIuY29udGVudCkpKX0sdGhpcyl9LHRoaXMuX2NvcmUub3B0aW9ucz1hLmV4dGVuZCh7fSxkLkRlZmF1bHRzLHRoaXMuX2NvcmUub3B0aW9ucyksdGhpcy5fY29yZS4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyksdGhpcy5fY29yZS4kZWxlbWVudC5vbihcImNsaWNrLm93bC52aWRlb1wiLFwiLm93bC12aWRlby1wbGF5LWljb25cIixhLnByb3h5KGZ1bmN0aW9uKGEpe3RoaXMucGxheShhKX0sdGhpcykpfTtkLkRlZmF1bHRzPXt2aWRlbzohMSx2aWRlb0hlaWdodDohMSx2aWRlb1dpZHRoOiExfSxkLnByb3RvdHlwZS5mZXRjaD1mdW5jdGlvbihhLGIpe3ZhciBjPWEuYXR0cihcImRhdGEtdmltZW8taWRcIik/XCJ2aW1lb1wiOlwieW91dHViZVwiLGQ9YS5hdHRyKFwiZGF0YS12aW1lby1pZFwiKXx8YS5hdHRyKFwiZGF0YS15b3V0dWJlLWlkXCIpLGU9YS5hdHRyKFwiZGF0YS13aWR0aFwiKXx8dGhpcy5fY29yZS5zZXR0aW5ncy52aWRlb1dpZHRoLGY9YS5hdHRyKFwiZGF0YS1oZWlnaHRcIil8fHRoaXMuX2NvcmUuc2V0dGluZ3MudmlkZW9IZWlnaHQsZz1hLmF0dHIoXCJocmVmXCIpO2lmKCFnKXRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgdmlkZW8gVVJMLlwiKTtpZihkPWcubWF0Y2goLyhodHRwOnxodHRwczp8KVxcL1xcLyhwbGF5ZXIufHd3dy4pPyh2aW1lb1xcLmNvbXx5b3V0dShiZVxcLmNvbXxcXC5iZXxiZVxcLmdvb2dsZWFwaXNcXC5jb20pKVxcLyh2aWRlb1xcL3xlbWJlZFxcL3x3YXRjaFxcP3Y9fHZcXC8pPyhbQS1aYS16MC05Ll8lLV0qKShcXCZcXFMrKT8vKSxkWzNdLmluZGV4T2YoXCJ5b3V0dVwiKT4tMSljPVwieW91dHViZVwiO2Vsc2V7aWYoIShkWzNdLmluZGV4T2YoXCJ2aW1lb1wiKT4tMSkpdGhyb3cgbmV3IEVycm9yKFwiVmlkZW8gVVJMIG5vdCBzdXBwb3J0ZWQuXCIpO2M9XCJ2aW1lb1wifWQ9ZFs2XSx0aGlzLl92aWRlb3NbZ109e3R5cGU6YyxpZDpkLHdpZHRoOmUsaGVpZ2h0OmZ9LGIuYXR0cihcImRhdGEtdmlkZW9cIixnKSx0aGlzLnRodW1ibmFpbChhLHRoaXMuX3ZpZGVvc1tnXSl9LGQucHJvdG90eXBlLnRodW1ibmFpbD1mdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnPWMud2lkdGgmJmMuaGVpZ2h0PydzdHlsZT1cIndpZHRoOicrYy53aWR0aCtcInB4O2hlaWdodDpcIitjLmhlaWdodCsncHg7XCInOlwiXCIsaD1iLmZpbmQoXCJpbWdcIiksaT1cInNyY1wiLGo9XCJcIixrPXRoaXMuX2NvcmUuc2V0dGluZ3MsbD1mdW5jdGlvbihhKXtlPSc8ZGl2IGNsYXNzPVwib3dsLXZpZGVvLXBsYXktaWNvblwiPjwvZGl2PicsZD1rLmxhenlMb2FkPyc8ZGl2IGNsYXNzPVwib3dsLXZpZGVvLXRuICcraisnXCIgJytpKyc9XCInK2ErJ1wiPjwvZGl2Pic6JzxkaXYgY2xhc3M9XCJvd2wtdmlkZW8tdG5cIiBzdHlsZT1cIm9wYWNpdHk6MTtiYWNrZ3JvdW5kLWltYWdlOnVybCgnK2ErJylcIj48L2Rpdj4nLGIuYWZ0ZXIoZCksYi5hZnRlcihlKX07cmV0dXJuIGIud3JhcCgnPGRpdiBjbGFzcz1cIm93bC12aWRlby13cmFwcGVyXCInK2crXCI+PC9kaXY+XCIpLHRoaXMuX2NvcmUuc2V0dGluZ3MubGF6eUxvYWQmJihpPVwiZGF0YS1zcmNcIixqPVwib3dsLWxhenlcIiksaC5sZW5ndGg/KGwoaC5hdHRyKGkpKSxoLnJlbW92ZSgpLCExKTp2b2lkKFwieW91dHViZVwiPT09Yy50eXBlPyhmPVwiaHR0cDovL2ltZy55b3V0dWJlLmNvbS92aS9cIitjLmlkK1wiL2hxZGVmYXVsdC5qcGdcIixsKGYpKTpcInZpbWVvXCI9PT1jLnR5cGUmJmEuYWpheCh7dHlwZTpcIkdFVFwiLHVybDpcImh0dHA6Ly92aW1lby5jb20vYXBpL3YyL3ZpZGVvL1wiK2MuaWQrXCIuanNvblwiLGpzb25wOlwiY2FsbGJhY2tcIixkYXRhVHlwZTpcImpzb25wXCIsc3VjY2VzczpmdW5jdGlvbihhKXtmPWFbMF0udGh1bWJuYWlsX2xhcmdlLGwoZil9fSkpfSxkLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5fY29yZS50cmlnZ2VyKFwic3RvcFwiLG51bGwsXCJ2aWRlb1wiKSx0aGlzLl9wbGF5aW5nLmZpbmQoXCIub3dsLXZpZGVvLWZyYW1lXCIpLnJlbW92ZSgpLHRoaXMuX3BsYXlpbmcucmVtb3ZlQ2xhc3MoXCJvd2wtdmlkZW8tcGxheWluZ1wiKSx0aGlzLl9wbGF5aW5nPW51bGx9LGQucHJvdG90eXBlLnBsYXk9ZnVuY3Rpb24oYil7dGhpcy5fY29yZS50cmlnZ2VyKFwicGxheVwiLG51bGwsXCJ2aWRlb1wiKSx0aGlzLl9wbGF5aW5nJiZ0aGlzLnN0b3AoKTt2YXIgYyxkLGU9YShiLnRhcmdldHx8Yi5zcmNFbGVtZW50KSxmPWUuY2xvc2VzdChcIi5cIit0aGlzLl9jb3JlLnNldHRpbmdzLml0ZW1DbGFzcyksZz10aGlzLl92aWRlb3NbZi5hdHRyKFwiZGF0YS12aWRlb1wiKV0saD1nLndpZHRofHxcIjEwMCVcIixpPWcuaGVpZ2h0fHx0aGlzLl9jb3JlLiRzdGFnZS5oZWlnaHQoKTtcInlvdXR1YmVcIj09PWcudHlwZT9jPSc8aWZyYW1lIHdpZHRoPVwiJytoKydcIiBoZWlnaHQ9XCInK2krJ1wiIHNyYz1cImh0dHA6Ly93d3cueW91dHViZS5jb20vZW1iZWQvJytnLmlkK1wiP2F1dG9wbGF5PTEmdj1cIitnLmlkKydcIiBmcmFtZWJvcmRlcj1cIjBcIiBhbGxvd2Z1bGxzY3JlZW4+PC9pZnJhbWU+JzpcInZpbWVvXCI9PT1nLnR5cGUmJihjPSc8aWZyYW1lIHNyYz1cImh0dHA6Ly9wbGF5ZXIudmltZW8uY29tL3ZpZGVvLycrZy5pZCsnP2F1dG9wbGF5PTFcIiB3aWR0aD1cIicraCsnXCIgaGVpZ2h0PVwiJytpKydcIiBmcmFtZWJvcmRlcj1cIjBcIiB3ZWJraXRhbGxvd2Z1bGxzY3JlZW4gbW96YWxsb3dmdWxsc2NyZWVuIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT4nKSxmLmFkZENsYXNzKFwib3dsLXZpZGVvLXBsYXlpbmdcIiksdGhpcy5fcGxheWluZz1mLGQ9YSgnPGRpdiBzdHlsZT1cImhlaWdodDonK2krXCJweDsgd2lkdGg6XCIraCsncHhcIiBjbGFzcz1cIm93bC12aWRlby1mcmFtZVwiPicrYytcIjwvZGl2PlwiKSxlLmFmdGVyKGQpfSxkLnByb3RvdHlwZS5pc0luRnVsbFNjcmVlbj1mdW5jdGlvbigpe3ZhciBkPWMuZnVsbHNjcmVlbkVsZW1lbnR8fGMubW96RnVsbFNjcmVlbkVsZW1lbnR8fGMud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQ7cmV0dXJuIGQmJmEoZCkucGFyZW50KCkuaGFzQ2xhc3MoXCJvd2wtdmlkZW8tZnJhbWVcIikmJih0aGlzLl9jb3JlLnNwZWVkKDApLHRoaXMuX2Z1bGxzY3JlZW49ITApLGQmJnRoaXMuX2Z1bGxzY3JlZW4mJnRoaXMuX3BsYXlpbmc/ITE6dGhpcy5fZnVsbHNjcmVlbj8odGhpcy5fZnVsbHNjcmVlbj0hMSwhMSk6dGhpcy5fcGxheWluZyYmdGhpcy5fY29yZS5zdGF0ZS5vcmllbnRhdGlvbiE9PWIub3JpZW50YXRpb24/KHRoaXMuX2NvcmUuc3RhdGUub3JpZW50YXRpb249Yi5vcmllbnRhdGlvbiwhMSk6ITB9LGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgYSxiO3RoaXMuX2NvcmUuJGVsZW1lbnQub2ZmKFwiY2xpY2sub3dsLnZpZGVvXCIpO2ZvcihhIGluIHRoaXMuX2hhbmRsZXJzKXRoaXMuX2NvcmUuJGVsZW1lbnQub2ZmKGEsdGhpcy5faGFuZGxlcnNbYV0pO2ZvcihiIGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKVwiZnVuY3Rpb25cIiE9dHlwZW9mIHRoaXNbYl0mJih0aGlzW2JdPW51bGwpfSxhLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuVmlkZW89ZH0od2luZG93LlplcHRvfHx3aW5kb3cualF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ZnVuY3Rpb24oYil7dGhpcy5jb3JlPWIsdGhpcy5jb3JlLm9wdGlvbnM9YS5leHRlbmQoe30sZS5EZWZhdWx0cyx0aGlzLmNvcmUub3B0aW9ucyksdGhpcy5zd2FwcGluZz0hMCx0aGlzLnByZXZpb3VzPWQsdGhpcy5uZXh0PWQsdGhpcy5oYW5kbGVycz17XCJjaGFuZ2Uub3dsLmNhcm91c2VsXCI6YS5wcm94eShmdW5jdGlvbihhKXtcInBvc2l0aW9uXCI9PWEucHJvcGVydHkubmFtZSYmKHRoaXMucHJldmlvdXM9dGhpcy5jb3JlLmN1cnJlbnQoKSx0aGlzLm5leHQ9YS5wcm9wZXJ0eS52YWx1ZSl9LHRoaXMpLFwiZHJhZy5vd2wuY2Fyb3VzZWwgZHJhZ2dlZC5vd2wuY2Fyb3VzZWwgdHJhbnNsYXRlZC5vd2wuY2Fyb3VzZWxcIjphLnByb3h5KGZ1bmN0aW9uKGEpe3RoaXMuc3dhcHBpbmc9XCJ0cmFuc2xhdGVkXCI9PWEudHlwZX0sdGhpcyksXCJ0cmFuc2xhdGUub3dsLmNhcm91c2VsXCI6YS5wcm94eShmdW5jdGlvbigpe3RoaXMuc3dhcHBpbmcmJih0aGlzLmNvcmUub3B0aW9ucy5hbmltYXRlT3V0fHx0aGlzLmNvcmUub3B0aW9ucy5hbmltYXRlSW4pJiZ0aGlzLnN3YXAoKX0sdGhpcyl9LHRoaXMuY29yZS4kZWxlbWVudC5vbih0aGlzLmhhbmRsZXJzKX07ZS5EZWZhdWx0cz17YW5pbWF0ZU91dDohMSxhbmltYXRlSW46ITF9LGUucHJvdG90eXBlLnN3YXA9ZnVuY3Rpb24oKXtpZigxPT09dGhpcy5jb3JlLnNldHRpbmdzLml0ZW1zJiZ0aGlzLmNvcmUuc3VwcG9ydDNkKXt0aGlzLmNvcmUuc3BlZWQoMCk7dmFyIGIsYz1hLnByb3h5KHRoaXMuY2xlYXIsdGhpcyksZD10aGlzLmNvcmUuJHN0YWdlLmNoaWxkcmVuKCkuZXEodGhpcy5wcmV2aW91cyksZT10aGlzLmNvcmUuJHN0YWdlLmNoaWxkcmVuKCkuZXEodGhpcy5uZXh0KSxmPXRoaXMuY29yZS5zZXR0aW5ncy5hbmltYXRlSW4sZz10aGlzLmNvcmUuc2V0dGluZ3MuYW5pbWF0ZU91dDt0aGlzLmNvcmUuY3VycmVudCgpIT09dGhpcy5wcmV2aW91cyYmKGcmJihiPXRoaXMuY29yZS5jb29yZGluYXRlcyh0aGlzLnByZXZpb3VzKS10aGlzLmNvcmUuY29vcmRpbmF0ZXModGhpcy5uZXh0KSxkLmNzcyh7bGVmdDpiK1wicHhcIn0pLmFkZENsYXNzKFwiYW5pbWF0ZWQgb3dsLWFuaW1hdGVkLW91dFwiKS5hZGRDbGFzcyhnKS5vbmUoXCJ3ZWJraXRBbmltYXRpb25FbmQgbW96QW5pbWF0aW9uRW5kIE1TQW5pbWF0aW9uRW5kIG9hbmltYXRpb25lbmQgYW5pbWF0aW9uZW5kXCIsYykpLGYmJmUuYWRkQ2xhc3MoXCJhbmltYXRlZCBvd2wtYW5pbWF0ZWQtaW5cIikuYWRkQ2xhc3MoZikub25lKFwid2Via2l0QW5pbWF0aW9uRW5kIG1vekFuaW1hdGlvbkVuZCBNU0FuaW1hdGlvbkVuZCBvYW5pbWF0aW9uZW5kIGFuaW1hdGlvbmVuZFwiLGMpKX19LGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKGIpe2EoYi50YXJnZXQpLmNzcyh7bGVmdDpcIlwifSkucmVtb3ZlQ2xhc3MoXCJhbmltYXRlZCBvd2wtYW5pbWF0ZWQtb3V0IG93bC1hbmltYXRlZC1pblwiKS5yZW1vdmVDbGFzcyh0aGlzLmNvcmUuc2V0dGluZ3MuYW5pbWF0ZUluKS5yZW1vdmVDbGFzcyh0aGlzLmNvcmUuc2V0dGluZ3MuYW5pbWF0ZU91dCksdGhpcy5jb3JlLnRyYW5zaXRpb25FbmQoKX0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciBhLGI7Zm9yKGEgaW4gdGhpcy5oYW5kbGVycyl0aGlzLmNvcmUuJGVsZW1lbnQub2ZmKGEsdGhpcy5oYW5kbGVyc1thXSk7Zm9yKGIgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpXCJmdW5jdGlvblwiIT10eXBlb2YgdGhpc1tiXSYmKHRoaXNbYl09bnVsbCl9LGEuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5BbmltYXRlPWV9KHdpbmRvdy5aZXB0b3x8d2luZG93LmpRdWVyeSx3aW5kb3csZG9jdW1lbnQpLGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihiKXt0aGlzLmNvcmU9Yix0aGlzLmNvcmUub3B0aW9ucz1hLmV4dGVuZCh7fSxkLkRlZmF1bHRzLHRoaXMuY29yZS5vcHRpb25zKSx0aGlzLmhhbmRsZXJzPXtcInRyYW5zbGF0ZWQub3dsLmNhcm91c2VsIHJlZnJlc2hlZC5vd2wuY2Fyb3VzZWxcIjphLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5hdXRvcGxheSgpXHJcbn0sdGhpcyksXCJwbGF5Lm93bC5hdXRvcGxheVwiOmEucHJveHkoZnVuY3Rpb24oYSxiLGMpe3RoaXMucGxheShiLGMpfSx0aGlzKSxcInN0b3Aub3dsLmF1dG9wbGF5XCI6YS5wcm94eShmdW5jdGlvbigpe3RoaXMuc3RvcCgpfSx0aGlzKSxcIm1vdXNlb3Zlci5vd2wuYXV0b3BsYXlcIjphLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5jb3JlLnNldHRpbmdzLmF1dG9wbGF5SG92ZXJQYXVzZSYmdGhpcy5wYXVzZSgpfSx0aGlzKSxcIm1vdXNlbGVhdmUub3dsLmF1dG9wbGF5XCI6YS5wcm94eShmdW5jdGlvbigpe3RoaXMuY29yZS5zZXR0aW5ncy5hdXRvcGxheUhvdmVyUGF1c2UmJnRoaXMuYXV0b3BsYXkoKX0sdGhpcyl9LHRoaXMuY29yZS4kZWxlbWVudC5vbih0aGlzLmhhbmRsZXJzKX07ZC5EZWZhdWx0cz17YXV0b3BsYXk6ITEsYXV0b3BsYXlUaW1lb3V0OjVlMyxhdXRvcGxheUhvdmVyUGF1c2U6ITEsYXV0b3BsYXlTcGVlZDohMX0sZC5wcm90b3R5cGUuYXV0b3BsYXk9ZnVuY3Rpb24oKXt0aGlzLmNvcmUuc2V0dGluZ3MuYXV0b3BsYXkmJiF0aGlzLmNvcmUuc3RhdGUudmlkZW9QbGF5PyhiLmNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCksdGhpcy5pbnRlcnZhbD1iLnNldEludGVydmFsKGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLnBsYXkoKX0sdGhpcyksdGhpcy5jb3JlLnNldHRpbmdzLmF1dG9wbGF5VGltZW91dCkpOmIuY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKX0sZC5wcm90b3R5cGUucGxheT1mdW5jdGlvbigpe3JldHVybiBjLmhpZGRlbj09PSEwfHx0aGlzLmNvcmUuc3RhdGUuaXNUb3VjaHx8dGhpcy5jb3JlLnN0YXRlLmlzU2Nyb2xsaW5nfHx0aGlzLmNvcmUuc3RhdGUuaXNTd2lwaW5nfHx0aGlzLmNvcmUuc3RhdGUuaW5Nb3Rpb24/dm9pZCAwOnRoaXMuY29yZS5zZXR0aW5ncy5hdXRvcGxheT09PSExP3ZvaWQgYi5jbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpOnZvaWQgdGhpcy5jb3JlLm5leHQodGhpcy5jb3JlLnNldHRpbmdzLmF1dG9wbGF5U3BlZWQpfSxkLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7Yi5jbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpfSxkLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe2IuY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKX0sZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciBhLGM7Yi5jbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO2ZvcihhIGluIHRoaXMuaGFuZGxlcnMpdGhpcy5jb3JlLiRlbGVtZW50Lm9mZihhLHRoaXMuaGFuZGxlcnNbYV0pO2ZvcihjIGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKVwiZnVuY3Rpb25cIiE9dHlwZW9mIHRoaXNbY10mJih0aGlzW2NdPW51bGwpfSxhLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuYXV0b3BsYXk9ZH0od2luZG93LlplcHRvfHx3aW5kb3cualF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGI9ZnVuY3Rpb24oYyl7dGhpcy5fY29yZT1jLHRoaXMuX2luaXRpYWxpemVkPSExLHRoaXMuX3BhZ2VzPVtdLHRoaXMuX2NvbnRyb2xzPXt9LHRoaXMuX3RlbXBsYXRlcz1bXSx0aGlzLiRlbGVtZW50PXRoaXMuX2NvcmUuJGVsZW1lbnQsdGhpcy5fb3ZlcnJpZGVzPXtuZXh0OnRoaXMuX2NvcmUubmV4dCxwcmV2OnRoaXMuX2NvcmUucHJldix0bzp0aGlzLl9jb3JlLnRvfSx0aGlzLl9oYW5kbGVycz17XCJwcmVwYXJlZC5vd2wuY2Fyb3VzZWxcIjphLnByb3h5KGZ1bmN0aW9uKGIpe3RoaXMuX2NvcmUuc2V0dGluZ3MuZG90c0RhdGEmJnRoaXMuX3RlbXBsYXRlcy5wdXNoKGEoYi5jb250ZW50KS5maW5kKFwiW2RhdGEtZG90XVwiKS5hbmRTZWxmKFwiW2RhdGEtZG90XVwiKS5hdHRyKFwiZGF0YS1kb3RcIikpfSx0aGlzKSxcImFkZC5vd2wuY2Fyb3VzZWxcIjphLnByb3h5KGZ1bmN0aW9uKGIpe3RoaXMuX2NvcmUuc2V0dGluZ3MuZG90c0RhdGEmJnRoaXMuX3RlbXBsYXRlcy5zcGxpY2UoYi5wb3NpdGlvbiwwLGEoYi5jb250ZW50KS5maW5kKFwiW2RhdGEtZG90XVwiKS5hbmRTZWxmKFwiW2RhdGEtZG90XVwiKS5hdHRyKFwiZGF0YS1kb3RcIikpfSx0aGlzKSxcInJlbW92ZS5vd2wuY2Fyb3VzZWwgcHJlcGFyZWQub3dsLmNhcm91c2VsXCI6YS5wcm94eShmdW5jdGlvbihhKXt0aGlzLl9jb3JlLnNldHRpbmdzLmRvdHNEYXRhJiZ0aGlzLl90ZW1wbGF0ZXMuc3BsaWNlKGEucG9zaXRpb24sMSl9LHRoaXMpLFwiY2hhbmdlLm93bC5jYXJvdXNlbFwiOmEucHJveHkoZnVuY3Rpb24oYSl7aWYoXCJwb3NpdGlvblwiPT1hLnByb3BlcnR5Lm5hbWUmJiF0aGlzLl9jb3JlLnN0YXRlLnJldmVydCYmIXRoaXMuX2NvcmUuc2V0dGluZ3MubG9vcCYmdGhpcy5fY29yZS5zZXR0aW5ncy5uYXZSZXdpbmQpe3ZhciBiPXRoaXMuX2NvcmUuY3VycmVudCgpLGM9dGhpcy5fY29yZS5tYXhpbXVtKCksZD10aGlzLl9jb3JlLm1pbmltdW0oKTthLmRhdGE9YS5wcm9wZXJ0eS52YWx1ZT5jP2I+PWM/ZDpjOmEucHJvcGVydHkudmFsdWU8ZD9jOmEucHJvcGVydHkudmFsdWV9fSx0aGlzKSxcImNoYW5nZWQub3dsLmNhcm91c2VsXCI6YS5wcm94eShmdW5jdGlvbihhKXtcInBvc2l0aW9uXCI9PWEucHJvcGVydHkubmFtZSYmdGhpcy5kcmF3KCl9LHRoaXMpLFwicmVmcmVzaGVkLm93bC5jYXJvdXNlbFwiOmEucHJveHkoZnVuY3Rpb24oKXt0aGlzLl9pbml0aWFsaXplZHx8KHRoaXMuaW5pdGlhbGl6ZSgpLHRoaXMuX2luaXRpYWxpemVkPSEwKSx0aGlzLl9jb3JlLnRyaWdnZXIoXCJyZWZyZXNoXCIsbnVsbCxcIm5hdmlnYXRpb25cIiksdGhpcy51cGRhdGUoKSx0aGlzLmRyYXcoKSx0aGlzLl9jb3JlLnRyaWdnZXIoXCJyZWZyZXNoZWRcIixudWxsLFwibmF2aWdhdGlvblwiKX0sdGhpcyl9LHRoaXMuX2NvcmUub3B0aW9ucz1hLmV4dGVuZCh7fSxiLkRlZmF1bHRzLHRoaXMuX2NvcmUub3B0aW9ucyksdGhpcy4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyl9O2IuRGVmYXVsdHM9e25hdjohMSxuYXZSZXdpbmQ6ITAsbmF2VGV4dDpbXCJwcmV2XCIsXCJuZXh0XCJdLG5hdlNwZWVkOiExLG5hdkVsZW1lbnQ6XCJkaXZcIixuYXZDb250YWluZXI6ITEsbmF2Q29udGFpbmVyQ2xhc3M6XCJvd2wtbmF2XCIsbmF2Q2xhc3M6W1wib3dsLXByZXZcIixcIm93bC1uZXh0XCJdLHNsaWRlQnk6MSxkb3RDbGFzczpcIm93bC1kb3RcIixkb3RzQ2xhc3M6XCJvd2wtZG90c1wiLGRvdHM6ITAsZG90c0VhY2g6ITEsZG90RGF0YTohMSxkb3RzU3BlZWQ6ITEsZG90c0NvbnRhaW5lcjohMSxjb250cm9sc0NsYXNzOlwib3dsLWNvbnRyb2xzXCJ9LGIucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXt2YXIgYixjLGQ9dGhpcy5fY29yZS5zZXR0aW5ncztkLmRvdHNEYXRhfHwodGhpcy5fdGVtcGxhdGVzPVthKFwiPGRpdj5cIikuYWRkQ2xhc3MoZC5kb3RDbGFzcykuYXBwZW5kKGEoXCI8c3Bhbj5cIikpLnByb3AoXCJvdXRlckhUTUxcIildKSxkLm5hdkNvbnRhaW5lciYmZC5kb3RzQ29udGFpbmVyfHwodGhpcy5fY29udHJvbHMuJGNvbnRhaW5lcj1hKFwiPGRpdj5cIikuYWRkQ2xhc3MoZC5jb250cm9sc0NsYXNzKS5hcHBlbmRUbyh0aGlzLiRlbGVtZW50KSksdGhpcy5fY29udHJvbHMuJGluZGljYXRvcnM9ZC5kb3RzQ29udGFpbmVyP2EoZC5kb3RzQ29udGFpbmVyKTphKFwiPGRpdj5cIikuaGlkZSgpLmFkZENsYXNzKGQuZG90c0NsYXNzKS5hcHBlbmRUbyh0aGlzLl9jb250cm9scy4kY29udGFpbmVyKSx0aGlzLl9jb250cm9scy4kaW5kaWNhdG9ycy5vbihcImNsaWNrXCIsXCJkaXZcIixhLnByb3h5KGZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLnBhcmVudCgpLmlzKHRoaXMuX2NvbnRyb2xzLiRpbmRpY2F0b3JzKT9hKGIudGFyZ2V0KS5pbmRleCgpOmEoYi50YXJnZXQpLnBhcmVudCgpLmluZGV4KCk7Yi5wcmV2ZW50RGVmYXVsdCgpLHRoaXMudG8oYyxkLmRvdHNTcGVlZCl9LHRoaXMpKSxiPWQubmF2Q29udGFpbmVyP2EoZC5uYXZDb250YWluZXIpOmEoXCI8ZGl2PlwiKS5hZGRDbGFzcyhkLm5hdkNvbnRhaW5lckNsYXNzKS5wcmVwZW5kVG8odGhpcy5fY29udHJvbHMuJGNvbnRhaW5lciksdGhpcy5fY29udHJvbHMuJG5leHQ9YShcIjxcIitkLm5hdkVsZW1lbnQrXCI+XCIpLHRoaXMuX2NvbnRyb2xzLiRwcmV2aW91cz10aGlzLl9jb250cm9scy4kbmV4dC5jbG9uZSgpLHRoaXMuX2NvbnRyb2xzLiRwcmV2aW91cy5hZGRDbGFzcyhkLm5hdkNsYXNzWzBdKS5odG1sKGQubmF2VGV4dFswXSkuaGlkZSgpLnByZXBlbmRUbyhiKS5vbihcImNsaWNrXCIsYS5wcm94eShmdW5jdGlvbigpe3RoaXMucHJldihkLm5hdlNwZWVkKX0sdGhpcykpLHRoaXMuX2NvbnRyb2xzLiRuZXh0LmFkZENsYXNzKGQubmF2Q2xhc3NbMV0pLmh0bWwoZC5uYXZUZXh0WzFdKS5oaWRlKCkuYXBwZW5kVG8oYikub24oXCJjbGlja1wiLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLm5leHQoZC5uYXZTcGVlZCl9LHRoaXMpKTtmb3IoYyBpbiB0aGlzLl9vdmVycmlkZXMpdGhpcy5fY29yZVtjXT1hLnByb3h5KHRoaXNbY10sdGhpcyl9LGIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZDtmb3IoYSBpbiB0aGlzLl9oYW5kbGVycyl0aGlzLiRlbGVtZW50Lm9mZihhLHRoaXMuX2hhbmRsZXJzW2FdKTtmb3IoYiBpbiB0aGlzLl9jb250cm9scyl0aGlzLl9jb250cm9sc1tiXS5yZW1vdmUoKTtmb3IoZCBpbiB0aGlzLm92ZXJpZGVzKXRoaXMuX2NvcmVbZF09dGhpcy5fb3ZlcnJpZGVzW2RdO2ZvcihjIGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKVwiZnVuY3Rpb25cIiE9dHlwZW9mIHRoaXNbY10mJih0aGlzW2NdPW51bGwpfSxiLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZD10aGlzLl9jb3JlLnNldHRpbmdzLGU9dGhpcy5fY29yZS5jbG9uZXMoKS5sZW5ndGgvMixmPWUrdGhpcy5fY29yZS5pdGVtcygpLmxlbmd0aCxnPWQuY2VudGVyfHxkLmF1dG9XaWR0aHx8ZC5kb3REYXRhPzE6ZC5kb3RzRWFjaHx8ZC5pdGVtcztpZihcInBhZ2VcIiE9PWQuc2xpZGVCeSYmKGQuc2xpZGVCeT1NYXRoLm1pbihkLnNsaWRlQnksZC5pdGVtcykpLGQuZG90c3x8XCJwYWdlXCI9PWQuc2xpZGVCeSlmb3IodGhpcy5fcGFnZXM9W10sYT1lLGI9MCxjPTA7Zj5hO2ErKykoYj49Z3x8MD09PWIpJiYodGhpcy5fcGFnZXMucHVzaCh7c3RhcnQ6YS1lLGVuZDphLWUrZy0xfSksYj0wLCsrYyksYis9dGhpcy5fY29yZS5tZXJnZXJzKHRoaXMuX2NvcmUucmVsYXRpdmUoYSkpfSxiLnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKCl7dmFyIGIsYyxkPVwiXCIsZT10aGlzLl9jb3JlLnNldHRpbmdzLGY9KHRoaXMuX2NvcmUuJHN0YWdlLmNoaWxkcmVuKCksdGhpcy5fY29yZS5yZWxhdGl2ZSh0aGlzLl9jb3JlLmN1cnJlbnQoKSkpO2lmKCFlLm5hdnx8ZS5sb29wfHxlLm5hdlJld2luZHx8KHRoaXMuX2NvbnRyb2xzLiRwcmV2aW91cy50b2dnbGVDbGFzcyhcImRpc2FibGVkXCIsMD49ZiksdGhpcy5fY29udHJvbHMuJG5leHQudG9nZ2xlQ2xhc3MoXCJkaXNhYmxlZFwiLGY+PXRoaXMuX2NvcmUubWF4aW11bSgpKSksdGhpcy5fY29udHJvbHMuJHByZXZpb3VzLnRvZ2dsZShlLm5hdiksdGhpcy5fY29udHJvbHMuJG5leHQudG9nZ2xlKGUubmF2KSxlLmRvdHMpe2lmKGI9dGhpcy5fcGFnZXMubGVuZ3RoLXRoaXMuX2NvbnRyb2xzLiRpbmRpY2F0b3JzLmNoaWxkcmVuKCkubGVuZ3RoLGUuZG90RGF0YSYmMCE9PWIpe2ZvcihjPTA7Yzx0aGlzLl9jb250cm9scy4kaW5kaWNhdG9ycy5jaGlsZHJlbigpLmxlbmd0aDtjKyspZCs9dGhpcy5fdGVtcGxhdGVzW3RoaXMuX2NvcmUucmVsYXRpdmUoYyldO3RoaXMuX2NvbnRyb2xzLiRpbmRpY2F0b3JzLmh0bWwoZCl9ZWxzZSBiPjA/KGQ9bmV3IEFycmF5KGIrMSkuam9pbih0aGlzLl90ZW1wbGF0ZXNbMF0pLHRoaXMuX2NvbnRyb2xzLiRpbmRpY2F0b3JzLmFwcGVuZChkKSk6MD5iJiZ0aGlzLl9jb250cm9scy4kaW5kaWNhdG9ycy5jaGlsZHJlbigpLnNsaWNlKGIpLnJlbW92ZSgpO3RoaXMuX2NvbnRyb2xzLiRpbmRpY2F0b3JzLmZpbmQoXCIuYWN0aXZlXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpLHRoaXMuX2NvbnRyb2xzLiRpbmRpY2F0b3JzLmNoaWxkcmVuKCkuZXEoYS5pbkFycmF5KHRoaXMuY3VycmVudCgpLHRoaXMuX3BhZ2VzKSkuYWRkQ2xhc3MoXCJhY3RpdmVcIil9dGhpcy5fY29udHJvbHMuJGluZGljYXRvcnMudG9nZ2xlKGUuZG90cyl9LGIucHJvdG90eXBlLm9uVHJpZ2dlcj1mdW5jdGlvbihiKXt2YXIgYz10aGlzLl9jb3JlLnNldHRpbmdzO2IucGFnZT17aW5kZXg6YS5pbkFycmF5KHRoaXMuY3VycmVudCgpLHRoaXMuX3BhZ2VzKSxjb3VudDp0aGlzLl9wYWdlcy5sZW5ndGgsc2l6ZTpjJiYoYy5jZW50ZXJ8fGMuYXV0b1dpZHRofHxjLmRvdERhdGE/MTpjLmRvdHNFYWNofHxjLml0ZW1zKX19LGIucHJvdG90eXBlLmN1cnJlbnQ9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLl9jb3JlLnJlbGF0aXZlKHRoaXMuX2NvcmUuY3VycmVudCgpKTtyZXR1cm4gYS5ncmVwKHRoaXMuX3BhZ2VzLGZ1bmN0aW9uKGEpe3JldHVybiBhLnN0YXJ0PD1iJiZhLmVuZD49Yn0pLnBvcCgpfSxiLnByb3RvdHlwZS5nZXRQb3NpdGlvbj1mdW5jdGlvbihiKXt2YXIgYyxkLGU9dGhpcy5fY29yZS5zZXR0aW5ncztyZXR1cm5cInBhZ2VcIj09ZS5zbGlkZUJ5PyhjPWEuaW5BcnJheSh0aGlzLmN1cnJlbnQoKSx0aGlzLl9wYWdlcyksZD10aGlzLl9wYWdlcy5sZW5ndGgsYj8rK2M6LS1jLGM9dGhpcy5fcGFnZXNbKGMlZCtkKSVkXS5zdGFydCk6KGM9dGhpcy5fY29yZS5yZWxhdGl2ZSh0aGlzLl9jb3JlLmN1cnJlbnQoKSksZD10aGlzLl9jb3JlLml0ZW1zKCkubGVuZ3RoLGI/Yys9ZS5zbGlkZUJ5OmMtPWUuc2xpZGVCeSksY30sYi5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihiKXthLnByb3h5KHRoaXMuX292ZXJyaWRlcy50byx0aGlzLl9jb3JlKSh0aGlzLmdldFBvc2l0aW9uKCEwKSxiKX0sYi5wcm90b3R5cGUucHJldj1mdW5jdGlvbihiKXthLnByb3h5KHRoaXMuX292ZXJyaWRlcy50byx0aGlzLl9jb3JlKSh0aGlzLmdldFBvc2l0aW9uKCExKSxiKX0sYi5wcm90b3R5cGUudG89ZnVuY3Rpb24oYixjLGQpe3ZhciBlO2Q/YS5wcm94eSh0aGlzLl9vdmVycmlkZXMudG8sdGhpcy5fY29yZSkoYixjKTooZT10aGlzLl9wYWdlcy5sZW5ndGgsYS5wcm94eSh0aGlzLl9vdmVycmlkZXMudG8sdGhpcy5fY29yZSkodGhpcy5fcGFnZXNbKGIlZStlKSVlXS5zdGFydCxjKSl9LGEuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5OYXZpZ2F0aW9uPWJ9KHdpbmRvdy5aZXB0b3x8d2luZG93LmpRdWVyeSx3aW5kb3csZG9jdW1lbnQpLGZ1bmN0aW9uKGEsYil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGM9ZnVuY3Rpb24oZCl7dGhpcy5fY29yZT1kLHRoaXMuX2hhc2hlcz17fSx0aGlzLiRlbGVtZW50PXRoaXMuX2NvcmUuJGVsZW1lbnQsdGhpcy5faGFuZGxlcnM9e1wiaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsXCI6YS5wcm94eShmdW5jdGlvbigpe1wiVVJMSGFzaFwiPT10aGlzLl9jb3JlLnNldHRpbmdzLnN0YXJ0UG9zaXRpb24mJmEoYikudHJpZ2dlcihcImhhc2hjaGFuZ2Uub3dsLm5hdmlnYXRpb25cIil9LHRoaXMpLFwicHJlcGFyZWQub3dsLmNhcm91c2VsXCI6YS5wcm94eShmdW5jdGlvbihiKXt2YXIgYz1hKGIuY29udGVudCkuZmluZChcIltkYXRhLWhhc2hdXCIpLmFuZFNlbGYoXCJbZGF0YS1oYXNoXVwiKS5hdHRyKFwiZGF0YS1oYXNoXCIpO3RoaXMuX2hhc2hlc1tjXT1iLmNvbnRlbnR9LHRoaXMpfSx0aGlzLl9jb3JlLm9wdGlvbnM9YS5leHRlbmQoe30sYy5EZWZhdWx0cyx0aGlzLl9jb3JlLm9wdGlvbnMpLHRoaXMuJGVsZW1lbnQub24odGhpcy5faGFuZGxlcnMpLGEoYikub24oXCJoYXNoY2hhbmdlLm93bC5uYXZpZ2F0aW9uXCIsYS5wcm94eShmdW5jdGlvbigpe3ZhciBhPWIubG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSksYz10aGlzLl9jb3JlLiRzdGFnZS5jaGlsZHJlbigpLGQ9dGhpcy5faGFzaGVzW2FdJiZjLmluZGV4KHRoaXMuX2hhc2hlc1thXSl8fDA7cmV0dXJuIGE/dm9pZCB0aGlzLl9jb3JlLnRvKGQsITEsITApOiExfSx0aGlzKSl9O2MuRGVmYXVsdHM9e1VSTGhhc2hMaXN0ZW5lcjohMX0sYy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciBjLGQ7YShiKS5vZmYoXCJoYXNoY2hhbmdlLm93bC5uYXZpZ2F0aW9uXCIpO2ZvcihjIGluIHRoaXMuX2hhbmRsZXJzKXRoaXMuX2NvcmUuJGVsZW1lbnQub2ZmKGMsdGhpcy5faGFuZGxlcnNbY10pO2ZvcihkIGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKVwiZnVuY3Rpb25cIiE9dHlwZW9mIHRoaXNbZF0mJih0aGlzW2RdPW51bGwpfSxhLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuSGFzaD1jfSh3aW5kb3cuWmVwdG98fHdpbmRvdy5qUXVlcnksd2luZG93LGRvY3VtZW50KTtcclxuXHJcblxyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcblxyXG5cdCQoJy5idXR0b24tdXAnKS5vbignY2xpY2snLGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0XHQkKCdib2R5LCBodG1sJykuYW5pbWF0ZSh7c2Nyb2xsVG9wOiAwfSwgNTAwKVxyXG5cdH0pO1xyXG5cclxuXHJcblx0dmFyIG9yZ0VsZW1lbnRQb3MgPSAkKCcubWVudScpLnBvc2l0aW9uKCk7XHJcblx0b3JnRWxlbWVudFRvcCA9IG9yZ0VsZW1lbnRQb3MudG9wO1xyXG5cclxuXHQkKGRvY3VtZW50KS5vbignc2Nyb2xsJywgc3RpY2tJdCk7XHJcblx0XHJcblx0ZnVuY3Rpb24gc3RpY2tJdCgpIHtcclxuXHRcdGlmICgkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPj0gMjAwKSB7XHJcblx0XHRcdCQoJy5tZW51JylcclxuXHRcdFx0XHQuYWRkQ2xhc3MoJ3N0dWNrJyk7XHJcblx0XHRcdCQoJy5idXR0b24tdXAnKS5mYWRlSW4oMzAwKTtcclxuXHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHQkKCcubWVudScpXHJcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCdzdHVjaycpO1xyXG5cdFx0XHQkKCcuYnV0dG9uLXVwJykuZmFkZU91dCgzMDApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0JCgnLm1vYmlsZS1tZW51Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcblx0XHQkKCcubWFpbi1sb2dvJykuZmFkZVRvZ2dsZSgxMDApO1xyXG5cdFx0JCh0aGlzKS50b2dnbGVDbGFzcygnb3BlbicpO1xyXG5cdFx0JCgnLm1lbnUnKS50b2dnbGVDbGFzcygnb3BlbicpO1xyXG5cdH0pXHJcblxyXG5cdCQoJy5tb2JpbGUtY29udGFjdHMnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuXHRcdCQoJy5tYWluLWxvZ28nKS5mYWRlVG9nZ2xlKDEwMCk7XHJcblx0XHQkKHRoaXMpLnRvZ2dsZUNsYXNzKCdvcGVuJyk7XHJcblx0XHQkKCcuY29udGFjdHNfX3NpZGViYXJfbW9iaWxlJykudG9nZ2xlQ2xhc3MoJ29wZW4nKTtcclxuXHR9KVxyXG5cdFxyXG4kKCcuY2xpZW50c19fbGlzdCcpLm93bENhcm91c2VsKHtcclxuXHRcclxuXHRhdXRvcGxheTp0cnVlLFxyXG5cdGF1dG9wbGF5SG92ZXJQYXVzZTp0cnVlLFxyXG5cdGxvb3A6dHJ1ZSxcclxuXHRpdGVtczogOCxcclxuXHRyZXNwb25zaXZlQ2xhc3M6dHJ1ZSxcclxuXHRkb3RzOiBmYWxzZSxcclxuXHRuYXZUZXh0OiAnJyxcclxuXHRyZXNwb25zaXZlOntcclxuXHRcdDA6e1xyXG5cdFx0XHRpdGVtczoxLFxyXG5cdFx0XHRuYXY6dHJ1ZVxyXG5cdFx0fSxcclxuXHRcdDYwMDp7XHJcblx0XHRcdGl0ZW1zOjMsXHJcblx0XHRcdG5hdjpmYWxzZVxyXG5cdFx0fSxcclxuXHRcdDEwMDA6e1xyXG5cdFx0XHRpdGVtczo1LFxyXG5cdFx0XHRuYXY6dHJ1ZSxcclxuXHRcdFx0bG9vcDpmYWxzZVxyXG5cdFx0fVxyXG5cdH1cclxufSk7XHJcblxyXG4kKCcubWVudScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuXHRcclxuXHRpZiAoJChlLnRhcmdldCkuaGFzQ2xhc3MoJ3BhZ2UtbmF2JykpIHtcclxuXHRcdGNvbnNvbGUubG9nKGUudGFyZ2V0KVxyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0c2hvd1NlY3Rpb24oJChlLnRhcmdldCkuYXR0cignaHJlZicpLCB0cnVlKTtcclxuXHR9XHJcbn0pO1xyXG5zaG93U2VjdGlvbih3aW5kb3cubG9jYXRpb24uaGFzaCwgZmFsc2UpO1xyXG5cclxuXHJcbiQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7XHJcblx0Y2hlY2tTZWN0aW9uKCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gc2hvd1NlY3Rpb24oc2VjdGlvbiwgaXNBbmltYXRlKSB7XHJcbiB2YXJcclxuXHQgZGlyZWN0aW9uID0gc2VjdGlvbi5yZXBsYWNlKC8jLywgJycpLFxyXG5cdCByZXFTZWN0aW9uID0gJCgnLnNlY3Rpb24nKS5maWx0ZXIoJ1tkYXRhLXNlY3Rpb249XCInICsgZGlyZWN0aW9uICsgJ1wiXScpO1xyXG5cdGNvbnNvbGUubG9nKCdzZWN0aW9uJyxyZXFTZWN0aW9uKTtcclxuIGlmIChyZXFTZWN0aW9uLmxlbmd0aCkge1xyXG4gXHR2YXIgcmVxU2VjdGlvblBvcyA9IHJlcVNlY3Rpb24ub2Zmc2V0KCkudG9wIC0gNzA7ICAgIFxyXG5cdFx0IGNvbnNvbGUubG9nKHJlcVNlY3Rpb24ub2Zmc2V0KCkudG9wKTtcclxuXHQgaWYgKGlzQW5pbWF0ZSkge1xyXG5cdFx0ICQoJ2JvZHksIGh0bWwnKS5hbmltYXRlKHtzY3JvbGxUb3A6IHJlcVNlY3Rpb25Qb3N9LCA1MDApO1xyXG5cdCB9IGVsc2Uge1xyXG5cdFx0ICQoJ2JvZHksIGh0bWwnKS5zY3JvbGxUb3AocmVxU2VjdGlvblBvcyk7XHJcblx0IH07XHJcbn1cclxuIFxyXG5cdFx0XHRcclxuXHJcbn07XHJcbmZ1bmN0aW9uIGNoZWNrU2VjdGlvbigpIHtcclxuXHQkKCcuc2VjdGlvbicpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHR2YXJcclxuXHRcdFx0JHRoaXMgPSAkKHRoaXMpLFxyXG5cdFx0XHR0b3BFZGdlID0gJHRoaXMub2Zmc2V0KCkudG9wIC0gMjAwLFxyXG5cdFx0XHRib3R0b21FZGdlID0gdG9wRWRnZSArICR0aGlzLmhlaWdodCgpLFxyXG5cdFx0XHR3U2Nyb2xsID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xyXG5cdFx0aWYgKHRvcEVkZ2UgPCB3U2Nyb2xsICYmIGJvdHRvbUVkZ2UgPiB3U2Nyb2xsKSB7XHJcblx0XHRcdHZhclxyXG5cdFx0XHRcdGN1cnJlbnRJZCA9ICR0aGlzLmRhdGEoJ3NlY3Rpb24nKSxcclxuXHRcdFx0XHRyZXFMaW5rID0gJCgnLm1lbnVfX2xpbmsnKS5maWx0ZXIoJ1tocmVmPVwiIycgKyBjdXJyZW50SWQgKyAnXCJdJyk7XHJcblx0XHRcdHJlcUxpbmtcclxuXHRcdFx0XHQuY2xvc2VzdCgnLm1lbnVfX2l0ZW0nKVxyXG5cdFx0XHRcdC5hZGRDbGFzcygnYWN0aXZlJylcclxuXHRcdFx0XHQuc2libGluZ3MoKVxyXG5cdFx0XHRcdC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHR9XHJcblx0fSk7XHJcbn07XHJcblxyXG5cclxuXHJcbnZhciAkb3ZlcmxheSA9ICQoJzxkaXYgaWQ9XCJvdmVybGF5XCI+PC9kaXY+Jyk7XHJcbnZhciAkaW1hZ2UgPSAkKFwiPGltZz5cIik7XHJcblxyXG4vL0FuIGltYWdlIHRvIG92ZXJsYXlcclxuJG92ZXJsYXkuYXBwZW5kKCRpbWFnZSk7XHJcblxyXG4vL0FkZCBvdmVybGF5XHJcbiQoXCIuY29udGVudF9fd3JhcHBlcl90aGFua3NcIikuYXBwZW5kKCRvdmVybGF5KTtcclxuXHJcbiAgLy9jbGljayB0aGUgaW1hZ2UgYW5kIGEgc2NhbGVkIHZlcnNpb24gb2YgdGhlIGZ1bGwgc2l6ZSBpbWFnZSB3aWxsIGFwcGVhclxyXG4gICQoXCIjcGhvdG8tZ2FsbGVyeSBhXCIpLmNsaWNrKCBmdW5jdGlvbihldmVudCkge1xyXG5cdGNvbnNvbGUubG9nKCdzaG93IGltZycpO1xyXG5cdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0dmFyIGltYWdlTG9jYXRpb24gPSAkKHRoaXMpLmF0dHIoXCJocmVmXCIpO1xyXG5cclxuXHQvL3VwZGF0ZSBvdmVybGF5IHdpdGggdGhlIGltYWdlIGxpbmtlZCBpbiB0aGUgbGlua1xyXG5cdCRpbWFnZS5hdHRyKFwic3JjXCIsIGltYWdlTG9jYXRpb24pO1xyXG5cclxuXHQvL3Nob3cgdGhlIG92ZXJsYXlcclxuXHQkb3ZlcmxheS5mYWRlSW4oMjAwKTtcclxuICB9ICk7XHJcblxyXG4gICQoXCIjb3ZlcmxheVwiKS5jbGljayhmdW5jdGlvbigpIHtcclxuXHQkKCBcIiNvdmVybGF5XCIgKS5mYWRlT3V0KDEwMCk7XHJcbiAgfSk7XHJcblx0XHRcclxufSk7XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHR2YXIgbWFwO1xyXG5cclxuXHRcdERHLnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdG1hcCA9IERHLm1hcCgnbWFwJywge1xyXG5cdFx0XHRcdFx0XHRjZW50ZXI6IFs1NC45OTc0NDQsIDczLjM4MjY0OF0sXHJcblx0XHRcdFx0XHRcdHpvb206IDE4LFxyXG5cdFx0XHRcdFx0XHQvLyBwa2c6ICdiYXNpYycsXHJcblx0XHRcdFx0XHRcdHdhdGNoOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRza2luOiAnbGlnaHQnLFxyXG5cdFx0XHRcdFx0XHRmdWxsc2NyZWVuQ29udHJvbDogZmFsc2UsXHJcblx0XHRcdFx0XHRcdHNjcm9sbFdoZWVsWm9vbTogZmFsc2VcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0REcubWFya2VyKFs1NC45OTc1NDAsIDczLjM4MTE2NV0pLmFkZFRvKG1hcCkuYmluZFBvcHVwKCfQr9GA0LrQuNC5INC80LjRgCcpO1xyXG5cdFx0fSk7XHJcblx0Y29uc29sZS5sb2coJ3llYScpO1xyXG5cdHZhciAkc2xpZGVyID0gJChcIi5zbGlkZXJcIiksXHJcblx0XHRcdCRzbGlkZUJHcyA9ICQoXCIuc2xpZGVfX2JnXCIpLFxyXG5cdFx0XHRkaWZmID0gMCxcclxuXHRcdFx0Y3VyU2xpZGUgPSAwLFxyXG5cdFx0XHRudW1PZlNsaWRlcyA9ICQoXCIuc2xpZGVcIikubGVuZ3RoLTEsXHJcblx0XHRcdGFuaW1hdGluZyA9IGZhbHNlLFxyXG5cdFx0XHRhbmltVGltZSA9IDUwMCxcclxuXHRcdFx0YXV0b1NsaWRlVGltZW91dCxcclxuXHRcdFx0YXV0b1NsaWRlRGVsYXkgPSA2MDAwLFxyXG5cdFx0XHQkcGFnaW5hdGlvbiA9ICQoXCIuc2xpZGVyLXBhZ2lcIik7XHJcblx0XHJcblx0ZnVuY3Rpb24gY3JlYXRlQnVsbGV0cygpIHtcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbnVtT2ZTbGlkZXMrMTsgaSsrKSB7XHJcblx0XHRcdHZhciAkbGkgPSAkKFwiPGxpIGNsYXNzPSdzbGlkZXItcGFnaV9fZWxlbSc+PC9saT5cIik7XHJcblx0XHRcdCRsaS5hZGRDbGFzcyhcInNsaWRlci1wYWdpX19lbGVtLVwiK2kpLmRhdGEoXCJwYWdlXCIsIGkpO1xyXG5cdFx0XHRpZiAoIWkpICRsaS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHRcdFx0JHBhZ2luYXRpb24uYXBwZW5kKCRsaSk7XHJcblx0XHR9XHJcblx0fTtcclxuXHRcclxuXHRjcmVhdGVCdWxsZXRzKCk7XHJcblx0XHJcblx0ZnVuY3Rpb24gbWFuYWdlQ29udHJvbHMoKSB7XHJcblx0XHQkKFwiLnNsaWRlci1jb250cm9sXCIpLnJlbW92ZUNsYXNzKFwiaW5hY3RpdmVcIik7XHJcblx0XHRpZiAoIWN1clNsaWRlKSAkKFwiLnNsaWRlci1jb250cm9sLmxlZnRcIikuYWRkQ2xhc3MoXCJpbmFjdGl2ZVwiKTtcclxuXHRcdGlmIChjdXJTbGlkZSA9PT0gbnVtT2ZTbGlkZXMpICQoXCIuc2xpZGVyLWNvbnRyb2wucmlnaHRcIikuYWRkQ2xhc3MoXCJpbmFjdGl2ZVwiKTtcclxuXHR9O1xyXG5cdFxyXG5cdGZ1bmN0aW9uIGF1dG9TbGlkZSgpIHtcclxuXHRcdGF1dG9TbGlkZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRjdXJTbGlkZSsrO1xyXG5cdFx0XHRpZiAoY3VyU2xpZGUgPiBudW1PZlNsaWRlcykgY3VyU2xpZGUgPSAwO1xyXG5cdFx0XHRjaGFuZ2VTbGlkZXMoKTtcclxuXHRcdH0sIGF1dG9TbGlkZURlbGF5KTtcclxuXHR9O1xyXG5cdFxyXG5cdGF1dG9TbGlkZSgpO1xyXG5cdFxyXG5cdGZ1bmN0aW9uIGNoYW5nZVNsaWRlcyhpbnN0YW50KSB7XHJcblx0XHRpZiAoIWluc3RhbnQpIHtcclxuXHRcdFx0YW5pbWF0aW5nID0gdHJ1ZTtcclxuXHRcdFx0bWFuYWdlQ29udHJvbHMoKTtcclxuXHRcdFx0JHNsaWRlci5hZGRDbGFzcyhcImFuaW1hdGluZ1wiKTtcclxuXHRcdFx0JHNsaWRlci5jc3MoXCJ0b3BcIik7XHJcblx0XHRcdCQoXCIuc2xpZGVcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcblx0XHRcdCQoXCIuc2xpZGUtXCIrY3VyU2xpZGUpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCRzbGlkZXIucmVtb3ZlQ2xhc3MoXCJhbmltYXRpbmdcIik7XHJcblx0XHRcdFx0YW5pbWF0aW5nID0gZmFsc2U7XHJcblx0XHRcdH0sIGFuaW1UaW1lKTtcclxuXHRcdH1cclxuXHRcdHdpbmRvdy5jbGVhclRpbWVvdXQoYXV0b1NsaWRlVGltZW91dCk7XHJcblx0XHQkKFwiLnNsaWRlci1wYWdpX19lbGVtXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG5cdFx0JChcIi5zbGlkZXItcGFnaV9fZWxlbS1cIitjdXJTbGlkZSkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcblx0XHQkc2xpZGVyLmNzcyhcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZTNkKFwiKyAtY3VyU2xpZGUqMTAwICtcIiUsMCwwKVwiKTtcclxuXHRcdCRzbGlkZUJHcy5jc3MoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUzZChcIisgY3VyU2xpZGUqNTAgK1wiJSwwLDApXCIpO1xyXG5cdFx0ZGlmZiA9IDA7XHJcblx0XHRhdXRvU2xpZGUoKTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIG5hdmlnYXRlTGVmdCgpIHtcclxuXHRcdGlmIChhbmltYXRpbmcpIHJldHVybjtcclxuXHRcdGlmIChjdXJTbGlkZSA+IDApIGN1clNsaWRlLS07XHJcblx0XHRjaGFuZ2VTbGlkZXMoKTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIG5hdmlnYXRlUmlnaHQoKSB7XHJcblx0XHRpZiAoYW5pbWF0aW5nKSByZXR1cm47XHJcblx0XHRpZiAoY3VyU2xpZGUgPCBudW1PZlNsaWRlcykgY3VyU2xpZGUrKztcclxuXHRcdGNoYW5nZVNsaWRlcygpO1xyXG5cdH1cclxuXHJcblx0JChkb2N1bWVudCkub24oXCJtb3VzZWRvd24gdG91Y2hzdGFydFwiLCBcIi5zbGlkZXJcIiwgZnVuY3Rpb24oZSkge1xyXG5cdFx0aWYgKGFuaW1hdGluZykgcmV0dXJuO1xyXG5cdFx0d2luZG93LmNsZWFyVGltZW91dChhdXRvU2xpZGVUaW1lb3V0KTtcclxuXHRcdHZhciBzdGFydFggPSBlLnBhZ2VYIHx8IGUub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLnBhZ2VYLFxyXG5cdFx0XHRcdHdpblcgPSAkKHdpbmRvdykud2lkdGgoKTtcclxuXHRcdGRpZmYgPSAwO1xyXG5cdFx0XHJcblx0XHQkKGRvY3VtZW50KS5vbihcIm1vdXNlbW92ZSB0b3VjaG1vdmVcIiwgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHR2YXIgeCA9IGUucGFnZVggfHwgZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0ucGFnZVg7XHJcblx0XHRcdGRpZmYgPSAoc3RhcnRYIC0geCkgLyB3aW5XICogNzA7XHJcblx0XHRcdGlmICgoIWN1clNsaWRlICYmIGRpZmYgPCAwKSB8fCAoY3VyU2xpZGUgPT09IG51bU9mU2xpZGVzICYmIGRpZmYgPiAwKSkgZGlmZiAvPSAyO1xyXG5cdFx0XHQkc2xpZGVyLmNzcyhcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZTNkKFwiKyAoLWN1clNsaWRlKjEwMCAtIGRpZmYpICtcIiUsMCwwKVwiKTtcclxuXHRcdFx0JHNsaWRlQkdzLmNzcyhcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZTNkKFwiKyAoY3VyU2xpZGUqNTAgKyBkaWZmLzIpICtcIiUsMCwwKVwiKTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cdFxyXG5cdCQoZG9jdW1lbnQpLm9uKFwibW91c2V1cCB0b3VjaGVuZFwiLCBmdW5jdGlvbihlKSB7XHJcblx0XHQkKGRvY3VtZW50KS5vZmYoXCJtb3VzZW1vdmUgdG91Y2htb3ZlXCIpO1xyXG5cdFx0aWYgKGFuaW1hdGluZykgcmV0dXJuO1xyXG5cdFx0aWYgKCFkaWZmKSB7XHJcblx0XHRcdGNoYW5nZVNsaWRlcyh0cnVlKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGRpZmYgPiAtOCAmJiBkaWZmIDwgOCkge1xyXG5cdFx0XHRjaGFuZ2VTbGlkZXMoKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGRpZmYgPD0gLTgpIHtcclxuXHRcdFx0bmF2aWdhdGVMZWZ0KCk7XHJcblx0XHR9XHJcblx0XHRpZiAoZGlmZiA+PSA4KSB7XHJcblx0XHRcdG5hdmlnYXRlUmlnaHQoKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHRcclxuXHQkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLnNsaWRlci1jb250cm9sXCIsIGZ1bmN0aW9uKCkge1xyXG5cdFx0aWYgKCQodGhpcykuaGFzQ2xhc3MoXCJsZWZ0XCIpKSB7XHJcblx0XHRcdG5hdmlnYXRlTGVmdCgpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bmF2aWdhdGVSaWdodCgpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdFxyXG5cdCQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIuc2xpZGVyLXBhZ2lfX2VsZW1cIiwgZnVuY3Rpb24oKSB7XHJcblx0XHRjdXJTbGlkZSA9ICQodGhpcykuZGF0YShcInBhZ2VcIik7XHJcblx0XHRjaGFuZ2VTbGlkZXMoKTtcclxuXHR9KTtcclxuXHRcclxufSk7XHJcblxyXG4vLyAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG4vLyAgJChcIiNmb3JtXCIpLnN1Ym1pdChmdW5jdGlvbigpIHsgLy/Rg9GB0YLQsNC90LDQstC70LjQstCw0LXQvCDRgdC+0LHRi9GC0LjQtSDQvtGC0L/RgNCw0LLQutC4INC00LvRjyDRhNC+0YDQvNGLINGBIGlkPWZvcm1cclxuLy8gICAgICAgICAgdmFyIGZvcm1fZGF0YSA9ICQodGhpcykuc2VyaWFsaXplKCk7IC8v0YHQvtCx0LXRgNCw0LXQvCDQstGB0LUg0LTQsNC90L3Ri9C1INC40Lcg0YTQvtGA0LzRi1xyXG4vLyAgICAgICAgICAkLmFqYXgoe1xyXG4vLyAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsIC8v0JzQtdGC0L7QtCDQvtGC0L/RgNCw0LLQutC4XHJcbi8vICAgICAgICAgICAgICB1cmw6IFwic2VuZC5waHBcIiwgLy/Qv9GD0YLRjCDQtNC+IHBocCDRhNCw0LjQu9CwINC+0YLQv9GA0LDQstC40YLQtdC70Y9cclxuLy8gICAgICAgICAgICAgIGRhdGE6IGZvcm1fZGF0YSxcclxuLy8gICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIC8v0LrQvtC0INCyINGN0YLQvtC8INCx0LvQvtC60LUg0LLRi9C/0L7Qu9C90Y/QtdGC0YHRjyDQv9GA0Lgg0YPRgdC/0LXRiNC90L7QuSDQvtGC0L/RgNCw0LLQutC1INGB0L7QvtCx0YnQtdC90LjRj1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICBhbGVydChcItCS0LDRiNC1INGB0L7QvtCx0YnQtdC90LjQtSDQvtGC0L/RgNCy0LvQtdC90L4hXCIpO1xyXG4vLyAgICAgICAgICAgICAgICAgIH0pXHJcbi8vICAgICAgICAgIH0pO1xyXG4vLyAgfSk7XHJcbi8vIH0pO1xyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
